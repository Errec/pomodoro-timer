function addZero(e){return e>9?""+e:"0"+e}var setBreak=function(){function e(){i.textContent=5===a?"05 min":a.toString()+" min"}function t(){60===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,i=document.getElementById("break-input"),r=document.getElementById("break-increase"),s=document.getElementById("break-decrease");return r.addEventListener("click",t),s.addEventListener("click",n),{getValue:o}}(),setSession=function(){function e(){i.textContent=5===a?"05 min":a.toString()+" min"}function t(){360===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,i=document.getElementById("session-input"),r=document.getElementById("session-increase"),s=document.getElementById("session-decrease");return r.addEventListener("click",t),s.addEventListener("click",n),{getValue:o}}(),timeMarkers=function(){function e(){t.textContent=addZero(Math.floor(setSession.getValue()/5*1)).toString()+" min",n.textContent=addZero(Math.floor(setSession.getValue()/5*2)).toString()+" min",o.textContent=addZero(Math.floor(setSession.getValue()/5*3)).toString()+" min",a.textContent=addZero(Math.floor(setSession.getValue()/5*4)).toString()+" min",i.textContent=addZero(Math.floor(setSession.getValue()/5*5)).toString()+" min"}var t=document.getElementById("time-mark-0"),n=document.getElementById("time-mark-1"),o=document.getElementById("time-mark-2"),a=document.getElementById("time-mark-3"),i=document.getElementById("time-mark-4"),r=document.getElementById("session-increase"),s=document.getElementById("session-decrease");r.addEventListener("click",e),s.addEventListener("click",e)}(),timer=function(){function e(e,t){var n=document.getElementById("rect"+e),o=new RegExp("(^| )rect-animate-color($| )","g");"session"===t?n.className+=" rect-animate-color":n.className=n.className.replace(o," ")}function t(){u?(u=!1,y.style.backgroundImage="url(../img/reload-icon.svg)",o()):(u=!0,y.style.backgroundImage="url(../img/play-icon.svg)",n())}function n(){a(!1),m=!1,r=!1,clearTimeout(s),clearTimeout(c),clearTimeout(d),clearTimeout(l),clearTimeout(commitUpdate),b.textContent="0 contributions in the current session",displayValue=setSession.getValue();for(var t=0;t<=i;t++)e(t,"reset")}function o(){var t=setSession.getValue(),n=setBreak.getValue(),u=t/i,f=n/i,y=u/4,B=0,k=0,C=0;r=!0,m||a(!0),commitUpdate=setInterval(function(){b.textContent=B.toString()+" contributions in the current session",B++},y*g),s=setInterval(function(){k<=i&&(e(k,"session"),k++)},u*g),c=setTimeout(function(){clearTimeout(commitUpdate),b.textContent="WARNING: the database server has gone away! Take a break...",d=setInterval(function(){C<=i&&(e(C,"break"),C++)},f*g)},t*g),l=setTimeout(function(){clearTimeout(s),clearTimeout(c),clearTimeout(d),clearTimeout(commitUpdate),r&&o()},(t+n)*g)}function a(e){!1===e?(B.disabled=!1,B.style.backgroundColor="#f7f9fa",k.disabled=!1,k.style.backgroundColor="#f7f9fa",C.disabled=!1,C.style.backgroundColor="#f7f9fa",E.disabled=!1,E.style.backgroundColor="#f7f9fa"):(B.disabled=!0,B.style.backgroundColor="#BCBCBC",k.disabled=!0,k.style.backgroundColor="#BCBCBC",C.disabled=!0,C.style.backgroundColor="#BCBCBC",E.disabled=!0,E.style.backgroundColor="#BCBCBC")}var i=364,r=!0,s=null,c=null,d=null,l=null,m=!1,u=!0,g=6e4,f=document.getElementById("timer-wrapper"),y=document.getElementById("start-btn"),B=document.getElementById("session-increase"),k=document.getElementById("session-decrease"),C=document.getElementById("break-increase"),E=document.getElementById("break-decrease"),b=document.getElementById("commit-count");document.getElementById("headline");y.addEventListener("click",t),function(){for(var e=new Date,t=e.getDay(),n=0;n<t;n++){var o=document.createElement("div");o.setAttribute("id","rect"+(i+1+n)),o.className+=" rect",f.appendChild(o)}i+=t}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzZXRCcmVhay5qcyIsInNldFNlc3Npb24uanMiLCJ0aW1lTWFya2Vycy5qcyIsInRpbWVyLmpzIl0sIm5hbWVzIjpbImFkZFplcm8iLCJuIiwic2V0QnJlYWsiLCJfcmVuZGVyIiwiYnJlYWtJbnB1dCIsInRleHRDb250ZW50IiwiYnJlYWtWYWx1ZSIsInRvU3RyaW5nIiwiX2luY3JlbWVudCIsIl9kZWNyZW1lbnQiLCJnZXRWYWx1ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbmNUaW1lIiwiZGVjVGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRTZXNzaW9uIiwic2Vzc2lvbklucHV0Iiwic2Vzc2lvblZhbHVlIiwidGltZU1hcmtlcnMiLCJtYXJrMCIsIk1hdGgiLCJmbG9vciIsIm1hcmsxIiwibWFyazIiLCJtYXJrMyIsIm1hcms0IiwidGltZXIiLCJpZCIsInR5cGUiLCJyZWN0YW5nbGUiLCJyZWciLCJSZWdFeHAiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiX2NvdW50ZG93blN3aXRjaCIsInBsYXlCdG4iLCJzdGFydCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiX3N0YXJ0Q291bnRkb3duIiwiX3Jlc2V0VGltZXIiLCJfZGlzYWJsZUJ0bnMiLCJkaXNhYmxlIiwicGxheU9uIiwiY2xlYXJUaW1lb3V0IiwibXlTZXNzaW9uQ291bnRkb3duIiwibXlCcmVha0NvdW50ZG93biIsIm15QnJlYWtJbm5lckNvdW50ZG93biIsImxvb3BUaW1lciIsImNvbW1pdFVwZGF0ZSIsImNvbW1pdENvdW50IiwiZGlzcGxheVZhbHVlIiwiaSIsIk5fUkVDVCIsInNlc3Npb25UaW1lIiwiYnJlYWtUaW1lIiwicmVjdFNlc3Npb25UaW1lIiwicmVjdEJyZWFrVGltZSIsImNvbW1pdFRpbWUiLCJjIiwicyIsImIiLCJzZXRJbnRlcnZhbCIsIm1pbnV0ZSIsInNldFRpbWVvdXQiLCJzZXNzaW9uSW5jQnRuIiwiZGlzYWJsZWQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzZXNzaW9uRGVjQnRuIiwiYnJlYWtJbmNCdG4iLCJicmVha0RlY0J0biIsInRpbWVyV3JhcHBlciIsImQiLCJEYXRlIiwid2Vla0RheSIsImdldERheSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUFBQSxFQ0RBLEdBQUFDLFVBQUEsV0FXQSxRQUFBQyxLQUNBQyxFQUFBQyxZQUFBLElBQUFDLEVBQUEsU0FBQUEsRUFBQUMsV0FBQSxPQUdBLFFBQUFDLEtBQ0EsS0FBQUYsSUFBQUEsR0FBQSxHQUNBSCxJQUdBLFFBQUFNLEtBQ0EsSUFBQUgsSUFBQUEsR0FBQSxHQUNBSCxJQUdBLFFBQUFPLEtBQ0EsTUFBQUosR0F6QkEsR0FBQUEsR0FBQSxFQUVBRixFQUFBTyxTQUFBQyxlQUFBLGVBQ0FDLEVBQUFGLFNBQUFDLGVBQUEsa0JBQ0FFLEVBQUFILFNBQUFDLGVBQUEsaUJBd0JBLE9BdEJBQyxHQUFBRSxpQkFBQSxRQUFBUCxHQUNBTSxFQUFBQyxpQkFBQSxRQUFBTixJQXNCQUMsU0FBQUEsTUM5QkFNLFdBQUEsV0FXQSxRQUFBYixLQUNBYyxFQUFBWixZQUFBLElBQUFhLEVBQUEsU0FBQUEsRUFBQVgsV0FBQSxPQUdBLFFBQUFDLEtBQ0EsTUFBQVUsSUFBQUEsR0FBQSxHQUNBZixJQUdBLFFBQUFNLEtBQ0EsSUFBQVMsSUFBQUEsR0FBQSxHQUNBZixJQUdBLFFBQUFPLEtBQ0EsTUFBQVEsR0F6QkEsR0FBQUEsR0FBQSxFQUVBRCxFQUFBTixTQUFBQyxlQUFBLGlCQUNBQyxFQUFBRixTQUFBQyxlQUFBLG9CQUNBRSxFQUFBSCxTQUFBQyxlQUFBLG1CQXdCQSxPQXRCQUMsR0FBQUUsaUJBQUEsUUFBQVAsR0FDQU0sRUFBQUMsaUJBQUEsUUFBQU4sSUFzQkFDLFNBQUFBLE1DOUJBUyxZQUFBLFdBYUEsUUFBQWhC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QSxVQUNBQyxFQUFBRixVQUFBLEVBQ0FFLEVBQUEvQixNQUFBOEIsZ0JBQUEsVUFDQUUsRUFBQUgsVUFBQSxFQUNBRyxFQUFBaEMsTUFBQThCLGdCQUFBLFVBQ0FHLEVBQUFKLFVBQUEsRUFDQUksRUFBQWpDLE1BQUE4QixnQkFBQSxXQTdJQSxHQUFBZCxHQUFBLElBQ0FWLEdBQUEsRUFDQUUsRUFBQSxLQUNBQyxFQUFBLEtBQ0FDLEVBQUEsS0FDQUMsRUFBQSxLQUNBTixHQUFBLEVBQ0FQLEdBQUEsRUFDQTRCLEVBQUEsSUFFQVEsRUFBQTdELFNBQUFDLGVBQUEsaUJBQ0F5QixFQUFBMUIsU0FBQUMsZUFBQSxhQUNBc0QsRUFBQXZELFNBQUFDLGVBQUEsb0JBQ0F5RCxFQUFBMUQsU0FBQUMsZUFBQSxvQkFDQTBELEVBQUEzRCxTQUFBQyxlQUFBLGtCQUNBMkQsRUFBQTVELFNBQUFDLGVBQUEsa0JBQ0F1QyxFQUFBeEMsU0FBQUMsZUFBQSxlQUNBRCxVQUFBQyxlQUFBLFdBRUF5QixHQUFBdEIsaUJBQUEsUUFBQW9CLEdBS0EsV0FJQSxJQUFBLEdBSEFzQyxHQUFBLEdBQUFDLE1BQ0FDLEVBQUFGLEVBQUFHLFNBRUF2QixFQUFBLEVBQUFBLEVBQUFzQixFQUFBdEIsSUFBQSxDQUNBLEdBQUF3QixHQUFBbEUsU0FBQW1FLGNBQUEsTUFDQUQsR0FBQUUsYUFBQSxLQUFBLFFBQUF6QixFQUFBLEVBQUFELElBQ0F3QixFQUFBNUMsV0FBQSxRQUNBdUMsRUFBQVEsWUFBQUgsR0FFQXZCLEdBQUFxQiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgIGZ1bmN0aW9uIGFkZFplcm8obikge1xuICAgIHJldHVybiBuID4gOSA/IFwiXCIgKyBuOiBcIjBcIiArIG47XG4gIH1cbiIsInZhciBzZXRCcmVhayA9IChmdW5jdGlvbigpe1xuICB2YXIgYnJlYWtWYWx1ZSA9IDU7XG4vLyBDYWNoZSB0aGUgRE9NXG4gIHZhciBicmVha0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWlucHV0Jyk7XG4gIHZhciBpbmNUaW1lICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWluY3JlYXNlJyk7XG4gIHZhciBkZWNUaW1lICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWRlY3JlYXNlJyk7XG4vLyAgQmluZCBjbGljayBldmVudHNcbiAgaW5jVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9pbmNyZW1lbnQpO1xuICBkZWNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2RlY3JlbWVudCk7XG4vLyBSZW5kZXIgdGhlIGluaXRpYWwgdmFsdWUgZnJvbSBicmVha1ZhbHVlXG5cbiAgZnVuY3Rpb24gX3JlbmRlcigpIHtcbiAgICBicmVha1ZhbHVlID09PSA1ID8gYnJlYWtJbnB1dC50ZXh0Q29udGVudCA9ICcwNSBtaW4nIDogYnJlYWtJbnB1dC50ZXh0Q29udGVudCA9IGJyZWFrVmFsdWUudG9TdHJpbmcoKSArICcgbWluJztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbmNyZW1lbnQoKSB7XG4gICAgYnJlYWtWYWx1ZSA9PT0gNjAgPyAnJyA6IGJyZWFrVmFsdWUgKz0gNTtcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVjcmVtZW50KCkge1xuICAgIGJyZWFrVmFsdWUgPT09IDUgPyAnJyA6IGJyZWFrVmFsdWUgLT0gNTtcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRWYWx1ZSAoKSB7XG4gICAgIHJldHVybiBicmVha1ZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlIDogZ2V0VmFsdWVcbiAgfTtcblxufSkoKTtcbiIsInZhciBzZXRTZXNzaW9uID0gKGZ1bmN0aW9uKCl7XG4gIHZhciBzZXNzaW9uVmFsdWUgPSA1O1xuLy8gQ2FjaGUgdGhlIERPTVxuICB2YXIgc2Vzc2lvbklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24taW5wdXQnKTtcbiAgdmFyIGluY1RpbWUgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWluY3JlYXNlJyk7XG4gIHZhciBkZWNUaW1lICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1kZWNyZWFzZScpO1xuLy8gIEJpbmQgY2xpY2sgZXZlbnRzXG4gIGluY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfaW5jcmVtZW50KTtcbiAgZGVjVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9kZWNyZW1lbnQpO1xuLy8gUmVuZGVyIHRoZSBpbml0aWFsIHZhbHVlIGZyb20gc2Vzc2lvblZhbHVlXG5cbiAgZnVuY3Rpb24gX3JlbmRlcigpIHtcbiAgICBzZXNzaW9uVmFsdWUgPT09IDUgPyBzZXNzaW9uSW5wdXQudGV4dENvbnRlbnQgPSAnMDUgbWluJyA6IHNlc3Npb25JbnB1dC50ZXh0Q29udGVudCA9IHNlc3Npb25WYWx1ZS50b1N0cmluZygpICsgJyBtaW4nO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luY3JlbWVudCgpIHtcbiAgICBzZXNzaW9uVmFsdWUgPT09IDM2MCA/ICcnIDogc2Vzc2lvblZhbHVlICs9IDU7XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlY3JlbWVudCgpIHtcbiAgICBzZXNzaW9uVmFsdWUgPT09IDUgPyAnJyA6IHNlc3Npb25WYWx1ZSAtPSA1O1xuICAgIF9yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZhbHVlICgpIHtcbiAgICAgcmV0dXJuIHNlc3Npb25WYWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgICBnZXRWYWx1ZSA6IGdldFZhbHVlXG4gIH07XG5cbn0pKCk7XG4iLCJ2YXIgdGltZU1hcmtlcnMgPSAoZnVuY3Rpb24oKXtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIG1hcmswICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTAnKTtcbiAgdmFyIG1hcmsxICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTEnKTtcbiAgdmFyIG1hcmsyICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTInKTtcbiAgdmFyIG1hcmszICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTMnKTtcbiAgdmFyIG1hcms0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTQnKTtcbiAgdmFyIGluY1RpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbmNyZWFzZScpO1xuICB2YXIgZGVjVGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWRlY3JlYXNlJyk7XG5cbiAgaW5jVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9yZW5kZXIpO1xuICBkZWNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3JlbmRlcik7XG5cbiAgZnVuY3Rpb24gX3JlbmRlcigpIHtcbiAgICBtYXJrMC50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogMSkpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gICAgbWFyazEudGV4dENvbnRlbnQgPSBhZGRaZXJvKE1hdGguZmxvb3Ioc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpIC8gNSAqIDIpKS50b1N0cmluZygpICsgJyBtaW4nO1xuICAgIG1hcmsyLnRleHRDb250ZW50ID0gYWRkWmVybyhNYXRoLmZsb29yKHNldFNlc3Npb24uZ2V0VmFsdWUoKSAvIDUgKiAzKSkudG9TdHJpbmcoKSArICcgbWluJztcbiAgICBtYXJrMy50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogNCkpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gICAgbWFyazQudGV4dENvbnRlbnQgPSBhZGRaZXJvKE1hdGguZmxvb3Ioc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpIC8gNSAqIDUpKS50b1N0cmluZygpICsgJyBtaW4nO1xuICB9XG59KSgpO1xuIiwidmFyIHRpbWVyID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgTl9SRUNUICAgICAgICAgICAgICAgID0gMzY0O1xuICB2YXIgcGxheU9uICAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgdmFyIG15U2Vzc2lvbkNvdW50ZG93biAgICA9IG51bGw7XG4gIHZhciBteUJyZWFrQ291bnRkb3duICAgICAgPSBudWxsO1xuICB2YXIgbXlCcmVha0lubmVyQ291bnRkb3duID0gbnVsbDtcbiAgdmFyIGxvb3BUaW1lciAgICAgICAgICAgICA9IG51bGw7XG4gIHZhciBkaXNhYmxlICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgdmFyIHBsYXlCdG4gICAgICAgICAgICAgICA9IHRydWU7XG4gIHZhciBtaW51dGUgICAgICAgICAgICAgICAgPSA2MDAwMDtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIHRpbWVyV3JhcHBlciAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXItd3JhcHBlcicpO1xuICB2YXIgc3RhcnQgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1idG4nKTtcbiAgdmFyIHNlc3Npb25JbmNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbmNyZWFzZScpO1xuICB2YXIgc2Vzc2lvbkRlY0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWRlY3JlYXNlJyk7XG4gIHZhciBicmVha0luY0J0biAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWluY3JlYXNlJyk7XG4gIHZhciBicmVha0RlY0J0biAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWRlY3JlYXNlJyk7XG4gIHZhciBjb21taXRDb3VudCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1pdC1jb3VudCcpO1xuICB2YXIgaGVhZGxpbmUgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkbGluZScpO1xuLy8gQmluZCBjbGljayBldmVudHNcbiAgc3RhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY291bnRkb3duU3dpdGNoKTtcbi8vIFJlbmRlciB0aGUgdGltZXIgZGlzcGxheVxuXG5fdXBkYXRlTnVtYmVyT2ZSZWN0YW5nbGVzKCk7XG5cbiAgZnVuY3Rpb24gX3VwZGF0ZU51bWJlck9mUmVjdGFuZ2xlcygpIHtcbiAgICB2YXIgZCAgICAgICA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIHdlZWtEYXkgPSBkLmdldERheSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3ZWVrRGF5OyBpKyspIHtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicmVjdFwiICsgKE5fUkVDVCArIDEgKyBpKSApO1xuICAgICAgZGl2LmNsYXNzTmFtZSArPSBcIiByZWN0XCI7XG4gICAgICB0aW1lcldyYXBwZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9XG4gICAgTl9SRUNUID0gTl9SRUNUICsgd2Vla0RheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZW5kZXIoaWQsIHR5cGUpIHtcbiAgICB2YXIgcmVjdGFuZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY3QnICsgaWQpO1xuICAgIHZhciByZWcgICAgICAgPSBuZXcgUmVnRXhwKCcoXnwgKScrICdyZWN0LWFuaW1hdGUtY29sb3InICsnKCR8ICknLCdnJyk7XG5cbiAgICB0eXBlID09PSAnc2Vzc2lvbicgPyByZWN0YW5nbGUuY2xhc3NOYW1lICs9IFwiIHJlY3QtYW5pbWF0ZS1jb2xvclwiIDogcmVjdGFuZ2xlLmNsYXNzTmFtZSA9IHJlY3RhbmdsZS5jbGFzc05hbWUucmVwbGFjZShyZWcsJyAnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb3VudGRvd25Td2l0Y2goKSB7XG4gICAgaWYocGxheUJ0bikge1xuICAgICAgcGxheUJ0biA9IGZhbHNlO1xuICAgICAgc3RhcnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi4vaW1nL3JlbG9hZC1pY29uLnN2ZylcIjtcbiAgICAgIF9zdGFydENvdW50ZG93bigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbGF5QnRuID0gdHJ1ZTtcbiAgICAgIHN0YXJ0LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKC4uL2ltZy9wbGF5LWljb24uc3ZnKVwiO1xuICAgICAgX3Jlc2V0VGltZXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfcmVzZXRUaW1lcigpIHtcbiAgICBfZGlzYWJsZUJ0bnMoZmFsc2UpO1xuICAgIGRpc2FibGUgPSBmYWxzZTtcbiAgICBwbGF5T24gPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQobXlTZXNzaW9uQ291bnRkb3duKTtcbiAgICBjbGVhclRpbWVvdXQobXlCcmVha0NvdW50ZG93bik7XG4gICAgY2xlYXJUaW1lb3V0KG15QnJlYWtJbm5lckNvdW50ZG93bik7XG4gICAgY2xlYXJUaW1lb3V0KGxvb3BUaW1lcik7XG4gICAgY2xlYXJUaW1lb3V0KGNvbW1pdFVwZGF0ZSk7XG4gICAgY29tbWl0Q291bnQudGV4dENvbnRlbnQgPSAnMCBjb250cmlidXRpb25zIGluIHRoZSBjdXJyZW50IHNlc3Npb24nO1xuICAgIGRpc3BsYXlWYWx1ZSA9IHNldFNlc3Npb24uZ2V0VmFsdWUoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBOX1JFQ1Q7IGkrKykge1xuICAgICAgX3JlbmRlcihpLCdyZXNldCcpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydENvdW50ZG93bigpIHtcbiAgICB2YXIgc2Vzc2lvblRpbWUgICAgID0gc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpO1xuICAgIHZhciBicmVha1RpbWUgICAgICAgPSBzZXRCcmVhay5nZXRWYWx1ZSgpO1xuICAgIHZhciByZWN0U2Vzc2lvblRpbWUgPSBzZXNzaW9uVGltZSAvIE5fUkVDVDtcbiAgICB2YXIgcmVjdEJyZWFrVGltZSAgID0gYnJlYWtUaW1lIC8gTl9SRUNUO1xuICAgIHZhciBjb21taXRUaW1lICAgICAgPSByZWN0U2Vzc2lvblRpbWUgLyA0O1xuICAgIHZhciBjICAgICAgICAgICAgICAgPSAwO1xuICAgIHZhciBzICAgICAgICAgICAgICAgPSAwO1xuICAgIHZhciBiICAgICAgICAgICAgICAgPSAwO1xuICAgIHBsYXlPbiAgICAgICAgICAgICAgPSB0cnVlO1xuXG4gICAgaWYoIWRpc2FibGUpIHtcbiAgICBfZGlzYWJsZUJ0bnModHJ1ZSk7XG4gICAgfVxuXG4gICAgY29tbWl0VXBkYXRlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBjb21taXRDb3VudC50ZXh0Q29udGVudCA9IGMudG9TdHJpbmcoKSArICcgY29udHJpYnV0aW9ucyBpbiB0aGUgY3VycmVudCBzZXNzaW9uJztcbiAgICAgIGMrKztcbiAgICB9LCBjb21taXRUaW1lICogbWludXRlKTtcblxuICAgIG15U2Vzc2lvbkNvdW50ZG93biA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgaWYocyA8PSBOX1JFQ1QpIHtcbiAgICAgICAgX3JlbmRlcihzLCdzZXNzaW9uJyk7XG4gICAgICAgIHMrKztcbiAgICAgIH1cbiAgICB9LCByZWN0U2Vzc2lvblRpbWUgKiBtaW51dGUpO1xuXG4gICAgbXlCcmVha0NvdW50ZG93biA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGNvbW1pdFVwZGF0ZSk7XG4gICAgICBjb21taXRDb3VudC50ZXh0Q29udGVudCA9ICdXQVJOSU5HOiB0aGUgZGF0YWJhc2Ugc2VydmVyIGhhcyBnb25lIGF3YXkhIFRha2UgYSBicmVhay4uLic7XG4gICAgICBteUJyZWFrSW5uZXJDb3VudGRvd24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoYiA8PSBOX1JFQ1QpIHtcbiAgICAgICAgICBfcmVuZGVyKGIsJ2JyZWFrJyk7XG4gICAgICAgICAgYisrO1xuICAgICAgICB9XG4gICAgICB9LCByZWN0QnJlYWtUaW1lICogbWludXRlKTtcbiAgICB9LCBzZXNzaW9uVGltZSAqIG1pbnV0ZSk7XG5cbiAgICBsb29wVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KG15U2Vzc2lvbkNvdW50ZG93bik7XG4gICAgICBjbGVhclRpbWVvdXQobXlCcmVha0NvdW50ZG93bik7XG4gICAgICBjbGVhclRpbWVvdXQobXlCcmVha0lubmVyQ291bnRkb3duKTtcbiAgICAgIGNsZWFyVGltZW91dChjb21taXRVcGRhdGUpO1xuICAgICAgaWYgKHBsYXlPbikge1xuICAgICAgICAgX3N0YXJ0Q291bnRkb3duKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSwoc2Vzc2lvblRpbWUgKyBicmVha1RpbWUpICogbWludXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kaXNhYmxlQnRucyhkaXNhYmxlKSB7XG4gICAgaWYoZGlzYWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgIHNlc3Npb25JbmNCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHNlc3Npb25JbmNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZjdmOWZhXCI7XG4gICAgICBzZXNzaW9uRGVjQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBzZXNzaW9uRGVjQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2Y3ZjlmYVwiO1xuICAgICAgYnJlYWtJbmNCdG4uZGlzYWJsZWQgICA9IGZhbHNlO1xuICAgICAgYnJlYWtJbmNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yICAgPSBcIiNmN2Y5ZmFcIjtcbiAgICAgIGJyZWFrRGVjQnRuLmRpc2FibGVkICAgPSBmYWxzZTtcbiAgICAgIGJyZWFrRGVjQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciAgID0gXCIjZjdmOWZhXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlc3Npb25JbmNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2Vzc2lvbkluY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNCQ0JDQkNcIjtcbiAgICAgIHNlc3Npb25EZWNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2Vzc2lvbkRlY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNCQ0JDQkNcIjtcbiAgICAgIGJyZWFrSW5jQnRuLmRpc2FibGVkICAgPSB0cnVlO1xuICAgICAgYnJlYWtJbmNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yICAgPSBcIiNCQ0JDQkNcIjtcbiAgICAgIGJyZWFrRGVjQnRuLmRpc2FibGVkICAgPSB0cnVlO1xuICAgICAgYnJlYWtEZWNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yICAgPSBcIiNCQ0JDQkNcIjtcbiAgICB9XG4gIH1cblxufSkoKTtcbiJdfQ==
