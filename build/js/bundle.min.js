function addZero(e){return e>9?""+e:"0"+e}var setBreak=function(){function e(){r.textContent=5===a?"05 min":a.toString()+" min"}function t(){60===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,r=document.getElementById("break-input"),i=document.getElementById("break-increase"),s=document.getElementById("break-decrease");return i.addEventListener("click",t),s.addEventListener("click",n),{getValue:o}}(),setSession=function(){function e(){r.textContent=5===a?"05 min":a.toString()+" min"}function t(){360===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,r=document.getElementById("session-input"),i=document.getElementById("session-increase"),s=document.getElementById("session-decrease");return i.addEventListener("click",t),s.addEventListener("click",n),{getValue:o}}(),timeMarkers=function(){function e(){t.textContent=addZero(Math.floor(setSession.getValue()/5*1)).toString()+" min",n.textContent=addZero(Math.floor(setSession.getValue()/5*2)).toString()+" min",o.textContent=addZero(Math.floor(setSession.getValue()/5*3)).toString()+" min",a.textContent=addZero(Math.floor(setSession.getValue()/5*4)).toString()+" min",r.textContent=addZero(Math.floor(setSession.getValue()/5*5)).toString()+" min"}var t=document.getElementById("time-mark-0"),n=document.getElementById("time-mark-1"),o=document.getElementById("time-mark-2"),a=document.getElementById("time-mark-3"),r=document.getElementById("time-mark-4"),i=document.getElementById("session-increase"),s=document.getElementById("session-decrease");i.addEventListener("click",e),s.addEventListener("click",e)}(),timer=function(){function e(e,t){var n=document.getElementById("rect"+e),o=new RegExp("(^| )rect-animate-color($| )","g");"session"===t?n.className+=" rect-animate-color":n.className=n.className.replace(o," ")}function t(){m?(m=!1,B.style.backgroundImage="url(../img/reload-icon.svg)",o()):(m=!0,B.style.backgroundImage="url(../img/play-icon.svg)",n())}function n(){a(!1),u=!1,i=!1,clearTimeout(s),clearTimeout(d),clearTimeout(c),clearTimeout(l),displayValue=setSession.getValue();for(var t=0;t<=r;t++)e(t,"reset")}function o(){var t=setSession.getValue(),n=setBreak.getValue(),m=t/r,f=n/r,B=0,y=0;i=!0,u||a(!0),s=setInterval(function(){B<=r&&(e(B,"session"),B++)},m*g),d=setTimeout(function(){c=setInterval(function(){y<=r&&(e(y,"break"),y++)},f*g)},t*g),l=setTimeout(function(){clearTimeout(s),clearTimeout(d),clearTimeout(c),i&&o()},(t+n)*g)}function a(e){!1===e?(y.disabled=!1,y.style.backgroundColor="#f7f9fa",k.disabled=!1,k.style.backgroundColor="#f7f9fa",E.disabled=!1,E.style.backgroundColor="#f7f9fa",C.disabled=!1,C.style.backgroundColor="#f7f9fa"):(y.disabled=!0,y.style.backgroundColor="#BCBCBC",k.disabled=!0,k.style.backgroundColor="#BCBCBC",E.disabled=!0,E.style.backgroundColor="#BCBCBC",C.disabled=!0,C.style.backgroundColor="#BCBCBC")}var r=364,i=!0,s=null,d=null,c=null,l=null,u=!1,m=!0,g=6e4,f=document.getElementById("timer-wrapper"),B=document.getElementById("start-btn"),y=document.getElementById("session-increase"),k=document.getElementById("session-decrease"),E=document.getElementById("break-increase"),C=document.getElementById("break-decrease");B.addEventListener("click",t),function(){for(var e=new Date,t=e.getDay(),n=0;n<t;n++){var o=document.createElement("div");o.setAttribute("id","rect"+(r+1+n)),o.className+=" rect",f.appendChild(o)}r+=t}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzZXRCcmVhay5qcyIsInNldFNlc3Npb24uanMiLCJ0aW1lTWFya2Vycy5qcyIsInRpbWVyLmpzIl0sIm5hbWVzIjpbImFkZFplcm8iLCJuIiwic2V0QnJlYWsiLCJfcmVuZGVyIiwiYnJlYWtJbnB1dCIsInRleHRDb250ZW50IiwiYnJlYWtWYWx1ZSIsInRvU3RyaW5nIiwiX2luY3JlbWVudCIsIl9kZWNyZW1lbnQiLCJnZXRWYWx1ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbmNUaW1lIiwiZGVjVGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRTZXNzaW9uIiwic2Vzc2lvbklucHV0Iiwic2Vzc2lvblZhbHVlIiwidGltZU1hcmtlcnMiLCJtYXJrMCIsIk1hdGgiLCJmbG9vciIsIm1hcmsxIiwibWFyazIiLCJtYXJrMyIsIm1hcms0IiwidGltZXIiLCJpZCIsInR5cGUiLCJyZWN0YW5nbGUiLCJyZWciLCJSZWdFeHAiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiX2NvdW50ZG93blN3aXRjaCIsInBsYXlCdG4iLCJzdGFydCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiX3N0YXJ0Q291bnRkb3duIiwiX3Jlc2V0VGltZXIiLCJfZGlzYWJsZUJ0bnMiLCJkaXNhYmxlIiwicGxheU9uIiwiY2xlYXJUaW1lb3V0IiwibXlTZXNzaW9uQ291bnRkb3duIiwibXlCcmVha0NvdW50ZG93biIsIm15QnJlYWtJbm5lckNvdW50ZG93biIsImxvb3BUaW1lciIsImRpc3BsYXlWYWx1ZSIsImkiLCJOX1JFQ1QiLCJzZXNzaW9uVGltZSIsImJyZWFrVGltZSIsInJlY3RTZXNzaW9uVGltZSIsInJlY3RCcmVha1RpbWUiLCJzIiwiYiIsInNldEludGVydmFsIiwibWludXRlIiwic2V0VGltZW91dCIsInNlc3Npb25JbmNCdG4iLCJkaXNhYmxlZCIsImJhY2tncm91bmRDb2xvciIsInNlc3Npb25EZWNCdG4iLCJicmVha0luY0J0biIsImJyZWFrRGVjQnRuIiwidGltZXJXcmFwcGVyIiwiZCIsIkRhdGUiLCJ3ZWVrRGF5IiwiZ2V0RGF5IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiQUFBQSxRQUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUEsRUFBQSxHQUFBQSxFQUFBLElBQUFBLEVDREEsR0FBQUMsVUFBQSxXQVdBLFFBQUFDLEtBQ0FDLEVBQUFDLFlBQUEsSUFBQUMsRUFBQSxTQUFBQSxFQUFBQyxXQUFBLE9BR0EsUUFBQUMsS0FDQSxLQUFBRixJQUFBQSxHQUFBLEdBQ0FILElBR0EsUUFBQU0sS0FDQSxJQUFBSCxJQUFBQSxHQUFBLEdBQ0FILElBR0EsUUFBQU8sS0FDQSxNQUFBSixHQXpCQSxHQUFBQSxHQUFBLEVBRUFGLEVBQUFPLFNBQUFDLGVBQUEsZUFDQUMsRUFBQUYsU0FBQUMsZUFBQSxrQkFDQUUsRUFBQUgsU0FBQUMsZUFBQSxpQkF3QkEsT0F0QkFDLEdBQUFFLGlCQUFBLFFBQUFQLEdBQ0FNLEVBQUFDLGlCQUFBLFFBQUFOLElBc0JBQyxTQUFBQSxNQzlCQU0sV0FBQSxXQVdBLFFBQUFiLEtBQ0FjLEVBQUFaLFlBQUEsSUFBQWEsRUFBQSxTQUFBQSxFQUFBWCxXQUFBLE9BR0EsUUFBQUMsS0FDQSxNQUFBVSxJQUFBQSxHQUFBLEdBQ0FmLElBR0EsUUFBQU0sS0FDQSxJQUFBUyxJQUFBQSxHQUFBLEdBQ0FmLElBR0EsUUFBQU8sS0FDQSxNQUFBUSxHQXpCQSxHQUFBQSxHQUFBLEVBRUFELEVBQUFOLFNBQUFDLGVBQUEsaUJBQ0FDLEVBQUFGLFNBQUFDLGVBQUEsb0JBQ0FFLEVBQUFILFNBQUFDLGVBQUEsbUJBd0JBLE9BdEJBQyxHQUFBRSxpQkFBQSxRQUFBUCxHQUNBTSxFQUFBQyxpQkFBQSxRQUFBTixJQXNCQUMsU0FBQUEsTUM5QkFTLFlBQUEsV0FhQSxRQUFBaEIsS0FDQWlCLEVBQUFmLFlBQUFMLFFBQUFxQixLQUFBQyxNQUFBTixXQUFBTixX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QUNBd0IsRUFBQSxJQUVBUSxFQUFBekQsU0FBQUMsZUFBQSxpQkFDQXlCLEVBQUExQixTQUFBQyxlQUFBLGFBQ0FrRCxFQUFBbkQsU0FBQUMsZUFBQSxvQkFDQXFELEVBQUF0RCxTQUFBQyxlQUFBLG9CQUNBc0QsRUFBQXZELFNBQUFDLGVBQUEsa0JBQ0F1RCxFQUFBeEQsU0FBQUMsZUFBQSxpQkFFQXlCLEdBQUF0QixpQkFBQSxRQUFBb0IsR0FLQSxXQUlBLElBQUEsR0FIQWtDLEdBQUEsR0FBQUMsTUFDQUMsRUFBQUYsRUFBQUcsU0FFQXJCLEVBQUEsRUFBQUEsRUFBQW9CLEVBQUFwQixJQUFBLENBQ0EsR0FBQXNCLEdBQUE5RCxTQUFBK0QsY0FBQSxNQUNBRCxHQUFBRSxhQUFBLEtBQUEsUUFBQXZCLEVBQUEsRUFBQUQsSUFDQXNCLEVBQUF4QyxXQUFBLFFBQ0FtQyxFQUFBUSxZQUFBSCxHQUVBckIsR0FBQW1CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAgZnVuY3Rpb24gYWRkWmVybyhuKSB7XG4gICAgcmV0dXJuIG4gPiA5ID8gXCJcIiArIG46IFwiMFwiICsgbjtcbiAgfVxuIiwidmFyIHNldEJyZWFrID0gKGZ1bmN0aW9uKCl7XG4gIHZhciBicmVha1ZhbHVlID0gNTtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIGJyZWFrSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5wdXQnKTtcbiAgdmFyIGluY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5jcmVhc2UnKTtcbiAgdmFyIGRlY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstZGVjcmVhc2UnKTtcbi8vICBCaW5kIGNsaWNrIGV2ZW50c1xuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2luY3JlbWVudCk7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZGVjcmVtZW50KTtcbi8vIFJlbmRlciB0aGUgaW5pdGlhbCB2YWx1ZSBmcm9tIGJyZWFrVmFsdWVcblxuICBmdW5jdGlvbiBfcmVuZGVyKCkge1xuICAgIGJyZWFrVmFsdWUgPT09IDUgPyBicmVha0lucHV0LnRleHRDb250ZW50ID0gJzA1IG1pbicgOiBicmVha0lucHV0LnRleHRDb250ZW50ID0gYnJlYWtWYWx1ZS50b1N0cmluZygpICsgJyBtaW4nO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luY3JlbWVudCgpIHtcbiAgICBicmVha1ZhbHVlID09PSA2MCA/ICcnIDogYnJlYWtWYWx1ZSArPSA1O1xuICAgIF9yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWNyZW1lbnQoKSB7XG4gICAgYnJlYWtWYWx1ZSA9PT0gNSA/ICcnIDogYnJlYWtWYWx1ZSAtPSA1O1xuICAgIF9yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZhbHVlICgpIHtcbiAgICAgcmV0dXJuIGJyZWFrVmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgICAgZ2V0VmFsdWUgOiBnZXRWYWx1ZVxuICB9O1xuXG59KSgpO1xuIiwidmFyIHNldFNlc3Npb24gPSAoZnVuY3Rpb24oKXtcbiAgdmFyIHNlc3Npb25WYWx1ZSA9IDU7XG4vLyBDYWNoZSB0aGUgRE9NXG4gIHZhciBzZXNzaW9uSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbnB1dCcpO1xuICB2YXIgaW5jVGltZSAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24taW5jcmVhc2UnKTtcbiAgdmFyIGRlY1RpbWUgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWRlY3JlYXNlJyk7XG4vLyAgQmluZCBjbGljayBldmVudHNcbiAgaW5jVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9pbmNyZW1lbnQpO1xuICBkZWNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2RlY3JlbWVudCk7XG4vLyBSZW5kZXIgdGhlIGluaXRpYWwgdmFsdWUgZnJvbSBzZXNzaW9uVmFsdWVcblxuICBmdW5jdGlvbiBfcmVuZGVyKCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gNSA/IHNlc3Npb25JbnB1dC50ZXh0Q29udGVudCA9ICcwNSBtaW4nIDogc2Vzc2lvbklucHV0LnRleHRDb250ZW50ID0gc2Vzc2lvblZhbHVlLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5jcmVtZW50KCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gMzYwID8gJycgOiBzZXNzaW9uVmFsdWUgKz0gNTtcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVjcmVtZW50KCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gNSA/ICcnIDogc2Vzc2lvblZhbHVlIC09IDU7XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUgKCkge1xuICAgICByZXR1cm4gc2Vzc2lvblZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlIDogZ2V0VmFsdWVcbiAgfTtcblxufSkoKTtcbiIsInZhciB0aW1lTWFya2VycyA9IChmdW5jdGlvbigpe1xuLy8gQ2FjaGUgdGhlIERPTVxuICB2YXIgbWFyazAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMCcpO1xuICB2YXIgbWFyazEgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMScpO1xuICB2YXIgbWFyazIgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMicpO1xuICB2YXIgbWFyazMgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMycpO1xuICB2YXIgbWFyazQgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstNCcpO1xuICB2YXIgaW5jVGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWluY3JlYXNlJyk7XG4gIHZhciBkZWNUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24tZGVjcmVhc2UnKTtcblxuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3JlbmRlcik7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfcmVuZGVyKTtcblxuICBmdW5jdGlvbiBfcmVuZGVyKCkge1xuICAgIG1hcmswLnRleHRDb250ZW50ID0gYWRkWmVybyhNYXRoLmZsb29yKHNldFNlc3Npb24uZ2V0VmFsdWUoKSAvIDUgKiAxKSkudG9TdHJpbmcoKSArICcgbWluJztcbiAgICBtYXJrMS50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogMikpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gICAgbWFyazIudGV4dENvbnRlbnQgPSBhZGRaZXJvKE1hdGguZmxvb3Ioc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpIC8gNSAqIDMpKS50b1N0cmluZygpICsgJyBtaW4nO1xuICAgIG1hcmszLnRleHRDb250ZW50ID0gYWRkWmVybyhNYXRoLmZsb29yKHNldFNlc3Npb24uZ2V0VmFsdWUoKSAvIDUgKiA0KSkudG9TdHJpbmcoKSArICcgbWluJztcbiAgICBtYXJrNC50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogNSkpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gIH1cbn0pKCk7XG4iLCJ2YXIgdGltZXIgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBOX1JFQ1QgICAgICAgICAgICAgICAgPSAzNjQ7XG4gIHZhciBwbGF5T24gICAgICAgICAgICAgICAgPSB0cnVlO1xuICB2YXIgbXlTZXNzaW9uQ291bnRkb3duICAgID0gbnVsbDtcbiAgdmFyIG15QnJlYWtDb3VudGRvd24gICAgICA9IG51bGw7XG4gIHZhciBteUJyZWFrSW5uZXJDb3VudGRvd24gPSBudWxsO1xuICB2YXIgbG9vcFRpbWVyICAgICAgICAgICAgID0gbnVsbDtcbiAgdmFyIGRpc2FibGUgICAgICAgICAgICAgICA9IGZhbHNlO1xuICB2YXIgcGxheUJ0biAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgdmFyIG1pbnV0ZSAgICAgICAgICAgICAgICA9IDYwMDAwO1xuLy8gQ2FjaGUgdGhlIERPTVxuICB2YXIgdGltZXJXcmFwcGVyICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lci13cmFwcGVyJyk7XG4gIHZhciBzdGFydCAgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LWJ0bicpO1xuICB2YXIgc2Vzc2lvbkluY0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWluY3JlYXNlJyk7XG4gIHZhciBzZXNzaW9uRGVjQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24tZGVjcmVhc2UnKTtcbiAgdmFyIGJyZWFrSW5jQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5jcmVhc2UnKTtcbiAgdmFyIGJyZWFrRGVjQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstZGVjcmVhc2UnKTtcbi8vIEJpbmQgY2xpY2sgZXZlbnRzXG4gIHN0YXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NvdW50ZG93blN3aXRjaCk7XG4vLyBSZW5kZXIgdGhlIHRpbWVyIGRpc3BsYXlcblxuX3VwZGF0ZU51bWJlck9mUmVjdGFuZ2xlcygpO1xuXG4gIGZ1bmN0aW9uIF91cGRhdGVOdW1iZXJPZlJlY3RhbmdsZXMoKSB7XG4gICAgdmFyIGQgICAgICAgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciB3ZWVrRGF5ID0gZC5nZXREYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2Vla0RheTsgaSsrKSB7XG4gICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInJlY3RcIiArIChOX1JFQ1QgKyAxICsgaSkgKTtcbiAgICAgIGRpdi5jbGFzc05hbWUgKz0gXCIgcmVjdFwiO1xuICAgICAgdGltZXJXcmFwcGVyLmFwcGVuZENoaWxkKGRpdik7XG4gICAgfVxuICAgIE5fUkVDVCA9IE5fUkVDVCArIHdlZWtEYXk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVuZGVyKGlkLCB0eXBlKSB7XG4gICAgdmFyIHJlY3RhbmdsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWN0JyArIGlkKTtcbiAgICB2YXIgcmVnICAgICAgID0gbmV3IFJlZ0V4cCgnKF58ICknKyAncmVjdC1hbmltYXRlLWNvbG9yJyArJygkfCApJywnZycpO1xuXG4gICAgdHlwZSA9PT0gJ3Nlc3Npb24nID8gcmVjdGFuZ2xlLmNsYXNzTmFtZSArPSBcIiByZWN0LWFuaW1hdGUtY29sb3JcIiA6IHJlY3RhbmdsZS5jbGFzc05hbWUgPSByZWN0YW5nbGUuY2xhc3NOYW1lLnJlcGxhY2UocmVnLCcgJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfY291bnRkb3duU3dpdGNoKCkge1xuICAgIGlmKHBsYXlCdG4pIHtcbiAgICAgIHBsYXlCdG4gPSBmYWxzZTtcbiAgICAgIHN0YXJ0LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKC4uL2ltZy9yZWxvYWQtaWNvbi5zdmcpXCI7XG4gICAgICBfc3RhcnRDb3VudGRvd24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheUJ0biA9IHRydWU7XG4gICAgICBzdGFydC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguLi9pbWcvcGxheS1pY29uLnN2ZylcIjtcbiAgICAgIF9yZXNldFRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3Jlc2V0VGltZXIoKSB7XG4gICAgX2Rpc2FibGVCdG5zKGZhbHNlKTtcbiAgICBkaXNhYmxlID0gZmFsc2U7XG4gICAgcGxheU9uID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KG15U2Vzc2lvbkNvdW50ZG93bik7XG4gICAgY2xlYXJUaW1lb3V0KG15QnJlYWtDb3VudGRvd24pO1xuICAgIGNsZWFyVGltZW91dChteUJyZWFrSW5uZXJDb3VudGRvd24pO1xuICAgIGNsZWFyVGltZW91dChsb29wVGltZXIpO1xuICAgIGRpc3BsYXlWYWx1ZSA9IHNldFNlc3Npb24uZ2V0VmFsdWUoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBOX1JFQ1Q7IGkrKykge1xuICAgICAgX3JlbmRlcihpLCdyZXNldCcpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydENvdW50ZG93bigpIHtcbiAgICB2YXIgc2Vzc2lvblRpbWUgICAgID0gc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpO1xuICAgIHZhciBicmVha1RpbWUgICAgICAgPSBzZXRCcmVhay5nZXRWYWx1ZSgpO1xuICAgIHZhciByZWN0U2Vzc2lvblRpbWUgPSBzZXNzaW9uVGltZSAvIE5fUkVDVDtcbiAgICB2YXIgcmVjdEJyZWFrVGltZSAgID0gYnJlYWtUaW1lIC8gTl9SRUNUO1xuICAgIHZhciBzICAgICAgICAgICAgICAgPSAwO1xuICAgIHZhciBiICAgICAgICAgICAgICAgPSAwO1xuICAgIHBsYXlPbiAgICAgICAgICAgICAgPSB0cnVlO1xuXG4gICAgaWYoIWRpc2FibGUpIHtcbiAgICBfZGlzYWJsZUJ0bnModHJ1ZSk7XG4gICAgfVxuXG4gICAgbXlTZXNzaW9uQ291bnRkb3duID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBpZihzIDw9IE5fUkVDVCkge1xuICAgICAgX3JlbmRlcihzLCdzZXNzaW9uJyk7XG4gICAgICBzKys7XG4gICAgICB9XG4gICAgfSwgcmVjdFNlc3Npb25UaW1lICogbWludXRlKTtcblxuICAgIG15QnJlYWtDb3VudGRvd24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG15QnJlYWtJbm5lckNvdW50ZG93biA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZihiIDw9IE5fUkVDVCkge1xuICAgICAgICAgIF9yZW5kZXIoYiwnYnJlYWsnKTtcbiAgICAgICAgICBiKys7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlY3RCcmVha1RpbWUgKiBtaW51dGUpO1xuICAgIH0sIHNlc3Npb25UaW1lICogbWludXRlKTtcblxuICAgIGxvb3BUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQobXlTZXNzaW9uQ291bnRkb3duKTtcbiAgICAgIGNsZWFyVGltZW91dChteUJyZWFrQ291bnRkb3duKTtcbiAgICAgIGNsZWFyVGltZW91dChteUJyZWFrSW5uZXJDb3VudGRvd24pO1xuICAgICAgaWYgKHBsYXlPbikge1xuICAgICAgICAgX3N0YXJ0Q291bnRkb3duKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSwoc2Vzc2lvblRpbWUgKyBicmVha1RpbWUpICogbWludXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kaXNhYmxlQnRucyhkaXNhYmxlKSB7XG4gICAgaWYoZGlzYWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgIHNlc3Npb25JbmNCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHNlc3Npb25JbmNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZjdmOWZhXCI7XG4gICAgICBzZXNzaW9uRGVjQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBzZXNzaW9uRGVjQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2Y3ZjlmYVwiO1xuICAgICAgYnJlYWtJbmNCdG4uZGlzYWJsZWQgICA9IGZhbHNlO1xuICAgICAgYnJlYWtJbmNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yICAgPSBcIiNmN2Y5ZmFcIjtcbiAgICAgIGJyZWFrRGVjQnRuLmRpc2FibGVkICAgPSBmYWxzZTtcbiAgICAgIGJyZWFrRGVjQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciAgID0gXCIjZjdmOWZhXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlc3Npb25JbmNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2Vzc2lvbkluY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNCQ0JDQkNcIjtcbiAgICAgIHNlc3Npb25EZWNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2Vzc2lvbkRlY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNCQ0JDQkNcIjtcbiAgICAgIGJyZWFrSW5jQnRuLmRpc2FibGVkICAgPSB0cnVlO1xuICAgICAgYnJlYWtJbmNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yICAgPSBcIiNCQ0JDQkNcIjtcbiAgICAgIGJyZWFrRGVjQnRuLmRpc2FibGVkICAgPSB0cnVlO1xuICAgICAgYnJlYWtEZWNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yICAgPSBcIiNCQ0JDQkNcIjtcbiAgICB9XG4gIH1cblxufSkoKTtcbiJdfQ==
