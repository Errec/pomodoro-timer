var setBreak=function(){function e(){c.textContent=a.toString()+" min"}function t(){60===a||a++,e()}function n(){1===a||a--,e()}function i(){return a}var a=10,c=document.getElementById("break-input"),s=document.getElementById("break-increase"),d=document.getElementById("break-decrease");return s.addEventListener("click",t),d.addEventListener("click",n),e(),{getValue:i}}(),setSession=function(){function e(){c.textContent=a.toString()+" min"}function t(){360===a||a++,e()}function n(){1===a||a--,e()}function i(){return a}var a=25,c=document.getElementById("session-input"),s=document.getElementById("session-increase"),d=document.getElementById("session-decrease");return s.addEventListener("click",t),d.addEventListener("click",n),e(),{getValue:i}}(),timer=function(){function e(e,t){var n=document.getElementById("rect"+e),i=new RegExp("(^| )rect-animate-color($| )","g");"session"===t?n.className+=" rect-animate-color":n.className=n.className.replace(i," ")}function t(){i(!1),l=!1,c=!1,clearTimeout(s),clearTimeout(d),clearTimeout(r),clearTimeout(o),displayValue=setSession.getValue();for(var t=0;t<=a;t++)e(t,"reset")}function n(){var t=setSession.getValue()+1,u=setBreak.getValue()+1,m=t/a,g=u/a,f=0,E=0;c=!0,l||i(!0),s=setInterval(function(){f<=a&&(e(f,"session"),f++)},1e3*m),d=setTimeout(function(){r=setInterval(function(){E<=a&&(e(E,"break"),E++)},1e3*g)},1e3*t),o=setTimeout(function(){clearTimeout(s),clearTimeout(d),clearTimeout(r),c&&n()},1e3*(t+u+1))}function i(e){!1===e?(m.disabled=!1,f.disabled=!1,E.disabled=!1,b.disabled=!1,v.disabled=!1):(m.disabled=!0,f.disabled=!0,E.disabled=!0,b.disabled=!0,v.disabled=!0)}var a=364,c=!0,s=null,d=null,r=null,o=null,l=!1,u=document.getElementById("timer-wrapper"),m=document.getElementById("start-btn"),g=document.getElementById("reset-btn"),f=document.getElementById("session-increase"),E=document.getElementById("session-decrease"),b=document.getElementById("break-increase"),v=document.getElementById("break-decrease");m.addEventListener("click",n),g.addEventListener("click",t),function(){for(var e=new Date,t=e.getDay(),n=0;n<t;n++){var i=document.createElement("div");i.setAttribute("id","rect"+(a+1+n)),i.className+=" rect",u.appendChild(i)}a+=t}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldEJyZWFrLmpzIiwic2V0U2Vzc2lvbi5qcyIsInRpbWVyLmpzIl0sIm5hbWVzIjpbInNldEJyZWFrIiwiX3JlbmRlciIsImJyZWFrSW5wdXQiLCJ0ZXh0Q29udGVudCIsImJyZWFrVmFsdWUiLCJ0b1N0cmluZyIsIl9pbmNyZW1lbnQiLCJfZGVjcmVtZW50IiwiZ2V0VmFsdWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5jVGltZSIsImRlY1RpbWUiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0U2Vzc2lvbiIsInNlc3Npb25JbnB1dCIsInNlc3Npb25WYWx1ZSIsInRpbWVyIiwiaWQiLCJ0eXBlIiwicmVjdGFuZ2xlIiwicmVnIiwiUmVnRXhwIiwiY2xhc3NOYW1lIiwicmVwbGFjZSIsIl9yZXNldFRpbWVyIiwiX2Rpc2FibGVCdG5zIiwiZGlzYWJsZSIsInBsYXlPbiIsImNsZWFyVGltZW91dCIsIm15U2Vzc2lvbkNvdW50ZG93biIsIm15QnJlYWtDb3VudGRvd24iLCJteUJyZWFrSW5uZXJDb3VudGRvd24iLCJsb29wVGltZXIiLCJkaXNwbGF5VmFsdWUiLCJpIiwiTl9SRUNUIiwiX3N0YXJ0Q291bnRkb3duIiwic2Vzc2lvblRpbWUiLCJicmVha1RpbWUiLCJyZWN0U2Vzc2lvblRpbWUiLCJyZWN0QnJlYWtUaW1lIiwicyIsImIiLCJzZXRJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJzdGFydCIsImRpc2FibGVkIiwic2Vzc2lvbkluY0J0biIsInNlc3Npb25EZWNCdG4iLCJicmVha0luY0J0biIsImJyZWFrRGVjQnRuIiwidGltZXJXcmFwcGVyIiwicmVzZXQiLCJkIiwiRGF0ZSIsIndlZWtEYXkiLCJnZXREYXkiLCJkaXYiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLFVBQUEsV0FZQSxRQUFBQyxLQUNBQyxFQUFBQyxZQUFBQyxFQUFBQyxXQUFBLE9BR0Es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QUFBWSxHQUtBLFdBSUEsSUFBQSxHQUhBNkIsR0FBQSxHQUFBQyxNQUNBQyxFQUFBRixFQUFBRyxTQUVBdEIsRUFBQSxFQUFBQSxFQUFBcUIsRUFBQXJCLElBQUEsQ0FDQSxHQUFBdUIsR0FBQWpELFNBQUFrRCxjQUFBLE1BQ0FELEdBQUFFLGFBQUEsS0FBQSxRQUFBeEIsRUFBQSxFQUFBRCxJQUNBdUIsRUFBQW5DLFdBQUEsUUFDQTZCLEVBQUFTLFlBQUFILEdBRUF0QixHQUFBb0IiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNldEJyZWFrID0gKGZ1bmN0aW9uKCl7XG4gIHZhciBicmVha1ZhbHVlID0gMTA7XG4vLyBDYWNoZSB0aGUgRE9NXG4gIHZhciBicmVha0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWlucHV0Jyk7XG4gIHZhciBpbmNUaW1lICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWluY3JlYXNlJyk7XG4gIHZhciBkZWNUaW1lICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWRlY3JlYXNlJyk7XG4vLyAgQmluZCBjbGljayBldmVudHNcbiAgaW5jVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9pbmNyZW1lbnQpO1xuICBkZWNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2RlY3JlbWVudCk7XG4vLyBSZW5kZXIgdGhlIGluaXRpYWwgdmFsdWUgZnJvbSBicmVha1ZhbHVlXG4gIF9yZW5kZXIoKTtcblxuICBmdW5jdGlvbiBfcmVuZGVyKCkge1xuICAgIGJyZWFrSW5wdXQudGV4dENvbnRlbnQgPSBicmVha1ZhbHVlLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5jcmVtZW50KCkge1xuICAgIGJyZWFrVmFsdWUgPT09IDYwID8gJycgOiBicmVha1ZhbHVlKys7XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlY3JlbWVudCgpIHtcbiAgICBicmVha1ZhbHVlID09PSAxID8gJycgOiBicmVha1ZhbHVlLS07XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUgKCkge1xuICAgICByZXR1cm4gYnJlYWtWYWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgICBnZXRWYWx1ZSA6IGdldFZhbHVlXG4gIH07XG5cbn0pKCk7XG4iLCJ2YXIgc2V0U2Vzc2lvbiA9IChmdW5jdGlvbigpe1xuICB2YXIgc2Vzc2lvblZhbHVlID0gMjU7XG4vLyBDYWNoZSB0aGUgRE9NXG4gIHZhciBzZXNzaW9uSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbnB1dCcpO1xuICB2YXIgaW5jVGltZSAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24taW5jcmVhc2UnKTtcbiAgdmFyIGRlY1RpbWUgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWRlY3JlYXNlJyk7XG4vLyAgQmluZCBjbGljayBldmVudHNcbiAgaW5jVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9pbmNyZW1lbnQpO1xuICBkZWNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2RlY3JlbWVudCk7XG4vLyBSZW5kZXIgdGhlIGluaXRpYWwgdmFsdWUgZnJvbSBzZXNzaW9uVmFsdWVcbiAgX3JlbmRlcigpO1xuXG4gIGZ1bmN0aW9uIF9yZW5kZXIoKSB7XG4gICAgc2Vzc2lvbklucHV0LnRleHRDb250ZW50ID0gc2Vzc2lvblZhbHVlLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5jcmVtZW50KCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gMzYwID8gJycgOiBzZXNzaW9uVmFsdWUrKztcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVjcmVtZW50KCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gMSA/ICcnIDogc2Vzc2lvblZhbHVlLS07XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUgKCkge1xuICAgICByZXR1cm4gc2Vzc2lvblZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlIDogZ2V0VmFsdWVcbiAgfTtcblxufSkoKTtcbiIsInZhciB0aW1lciA9IChmdW5jdGlvbigpIHtcbiAgdmFyIE5fUkVDVCAgICAgICAgICAgICAgICA9IDM2NDtcbiAgdmFyIHBsYXlPbiAgICAgICAgICAgICAgICA9IHRydWU7XG4gIHZhciBteVNlc3Npb25Db3VudGRvd24gICAgPSBudWxsO1xuICB2YXIgbXlCcmVha0NvdW50ZG93biAgICAgID0gbnVsbDtcbiAgdmFyIG15QnJlYWtJbm5lckNvdW50ZG93biA9IG51bGw7XG4gIHZhciBsb29wVGltZXIgICAgICAgICAgICAgPSBudWxsO1xuICB2YXIgZGlzYWJsZSAgICAgICAgICAgICAgID0gZmFsc2U7XG4vLyBDYWNoZSB0aGUgRE9NXG4gIHZhciB0aW1lcldyYXBwZXIgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVyLXdyYXBwZXInKTtcbiAgdmFyIHN0YXJ0ICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtYnRuJyk7XG4gIHZhciByZXNldCAgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LWJ0bicpO1xuICB2YXIgc2Vzc2lvbkluY0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWluY3JlYXNlJyk7XG4gIHZhciBzZXNzaW9uRGVjQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24tZGVjcmVhc2UnKTtcbiAgdmFyIGJyZWFrSW5jQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5jcmVhc2UnKTtcbiAgdmFyIGJyZWFrRGVjQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstZGVjcmVhc2UnKTtcbi8vIEJpbmQgY2xpY2sgZXZlbnRzXG4gIHN0YXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3N0YXJ0Q291bnRkb3duKTtcbiAgcmVzZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfcmVzZXRUaW1lcik7XG4vLyBSZW5kZXIgdGhlIHRpbWVyIGRpc3BsYXlcblxuX3VwZGF0ZU51bWJlck9mUmVjdGFuZ2xlcygpO1xuXG4gIGZ1bmN0aW9uIF91cGRhdGVOdW1iZXJPZlJlY3RhbmdsZXMoKSB7XG4gICAgdmFyIGQgICAgICAgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciB3ZWVrRGF5ID0gZC5nZXREYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2Vla0RheTsgaSsrKSB7XG4gICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInJlY3RcIiArIChOX1JFQ1QgKyAxICsgaSkgKTtcbiAgICAgIGRpdi5jbGFzc05hbWUgKz0gXCIgcmVjdFwiO1xuICAgICAgdGltZXJXcmFwcGVyLmFwcGVuZENoaWxkKGRpdik7XG4gICAgfVxuICAgIE5fUkVDVCA9IE5fUkVDVCArIHdlZWtEYXk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVuZGVyKGlkLCB0eXBlKSB7XG4gICAgdmFyIHJlY3RhbmdsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWN0JyArIGlkKTtcbiAgICB2YXIgcmVnICAgICAgID0gbmV3IFJlZ0V4cCgnKF58ICknKyAncmVjdC1hbmltYXRlLWNvbG9yJyArJygkfCApJywnZycpO1xuXG4gICAgdHlwZSA9PT0gJ3Nlc3Npb24nID8gcmVjdGFuZ2xlLmNsYXNzTmFtZSArPSBcIiByZWN0LWFuaW1hdGUtY29sb3JcIiA6IHJlY3RhbmdsZS5jbGFzc05hbWUgPSByZWN0YW5nbGUuY2xhc3NOYW1lLnJlcGxhY2UocmVnLCcgJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVzZXRUaW1lcigpIHtcbiAgICBfZGlzYWJsZUJ0bnMoZmFsc2UpO1xuICAgIGRpc2FibGUgPSBmYWxzZTtcbiAgICBwbGF5T24gPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQobXlTZXNzaW9uQ291bnRkb3duKTtcbiAgICBjbGVhclRpbWVvdXQobXlCcmVha0NvdW50ZG93bik7XG4gICAgY2xlYXJUaW1lb3V0KG15QnJlYWtJbm5lckNvdW50ZG93bik7XG4gICAgY2xlYXJUaW1lb3V0KGxvb3BUaW1lcik7XG4gICAgZGlzcGxheVZhbHVlID0gc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IE5fUkVDVDsgaSsrKSB7XG4gICAgICBfcmVuZGVyKGksJ3Jlc2V0Jyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0Q291bnRkb3duKCkge1xuICAgIHZhciBzZXNzaW9uVGltZSAgICAgPSBzZXRTZXNzaW9uLmdldFZhbHVlKCkgKyAxO1xuICAgIHZhciBicmVha1RpbWUgICAgICAgPSBzZXRCcmVhay5nZXRWYWx1ZSgpICsgMTtcbiAgICB2YXIgcmVjdFNlc3Npb25UaW1lID0gc2Vzc2lvblRpbWUgLyBOX1JFQ1Q7XG4gICAgdmFyIHJlY3RCcmVha1RpbWUgICA9ICBicmVha1RpbWUgLyBOX1JFQ1Q7XG4gICAgdmFyIHMgICAgICAgICAgICAgICA9IDA7XG4gICAgdmFyIGIgICAgICAgICAgICAgICA9IDA7XG4gICAgcGxheU9uICAgICAgICAgICAgICA9IHRydWU7XG5cbiAgICBpZighZGlzYWJsZSkge1xuICAgIF9kaXNhYmxlQnRucyh0cnVlKTtcbiAgICB9XG5cbiAgICBteVNlc3Npb25Db3VudGRvd24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGlmKHMgPD0gTl9SRUNUKSB7XG4gICAgICBfcmVuZGVyKHMsJ3Nlc3Npb24nKTtcbiAgICAgIHMrKztcbiAgICAgIH1cbiAgICB9LCByZWN0U2Vzc2lvblRpbWUgKiAxMDAwKTtcblxuICAgIG15QnJlYWtDb3VudGRvd24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG15QnJlYWtJbm5lckNvdW50ZG93biA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZihiIDw9IE5fUkVDVCkge1xuICAgICAgICAgIF9yZW5kZXIoYiwnYnJlYWsnKTtcbiAgICAgICAgICBiKys7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlY3RCcmVha1RpbWUgKiAxMDAwKTtcbiAgICB9LCBzZXNzaW9uVGltZSAqIDEwMDApO1xuXG4gICAgbG9vcFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGNsZWFyVGltZW91dChteVNlc3Npb25Db3VudGRvd24pO1xuICAgICAgY2xlYXJUaW1lb3V0KG15QnJlYWtDb3VudGRvd24pO1xuICAgICAgY2xlYXJUaW1lb3V0KG15QnJlYWtJbm5lckNvdW50ZG93bik7XG4gICAgICBpZiAocGxheU9uKSB7XG4gICAgICAgICBfc3RhcnRDb3VudGRvd24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LChzZXNzaW9uVGltZSArIGJyZWFrVGltZSArIDEpICogMTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGlzYWJsZUJ0bnMoZGlzYWJsZSkge1xuICAgIGlmKGRpc2FibGUgPT09IGZhbHNlKSB7XG4gICAgICBzdGFydC5kaXNhYmxlZCAgICAgICAgID0gZmFsc2U7XG4gICAgICBzZXNzaW9uSW5jQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBzZXNzaW9uRGVjQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBicmVha0luY0J0bi5kaXNhYmxlZCAgID0gZmFsc2U7XG4gICAgICBicmVha0RlY0J0bi5kaXNhYmxlZCAgID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0LmRpc2FibGVkICAgICAgICAgPSB0cnVlO1xuICAgICAgc2Vzc2lvbkluY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZXNzaW9uRGVjQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGJyZWFrSW5jQnRuLmRpc2FibGVkICAgPSB0cnVlO1xuICAgICAgYnJlYWtEZWNCdG4uZGlzYWJsZWQgICA9IHRydWU7XG4gICAgfVxuICB9XG5cbn0pKCk7XG4iXX0=
