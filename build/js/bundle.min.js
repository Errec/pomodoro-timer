function addZero(e){return e>9?""+e:"0"+e}var setBreak=function(){function e(){i.textContent=5===a?"05 min":a.toString()+" min"}function t(){60===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,i=document.getElementById("break-input"),r=document.getElementById("break-increase"),c=document.getElementById("break-decrease");return r.addEventListener("click",t),c.addEventListener("click",n),{getValue:o}}(),setSession=function(){function e(){i.textContent=5===a?"05 min":a.toString()+" min"}function t(){360===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,i=document.getElementById("session-input"),r=document.getElementById("session-increase"),c=document.getElementById("session-decrease");return r.addEventListener("click",t),c.addEventListener("click",n),{getValue:o}}(),timeMarkers=function(){function e(){t.textContent=addZero(Math.floor(setSession.getValue()/5*1)).toString()+" min",n.textContent=addZero(Math.floor(setSession.getValue()/5*2)).toString()+" min",o.textContent=addZero(Math.floor(setSession.getValue()/5*3)).toString()+" min",a.textContent=addZero(Math.floor(setSession.getValue()/5*4)).toString()+" min",i.textContent=addZero(Math.floor(setSession.getValue()/5*5)).toString()+" min"}var t=document.getElementById("time-mark-0"),n=document.getElementById("time-mark-1"),o=document.getElementById("time-mark-2"),a=document.getElementById("time-mark-3"),i=document.getElementById("time-mark-4"),r=document.getElementById("session-increase"),c=document.getElementById("session-decrease");r.addEventListener("click",e),c.addEventListener("click",e)}(),timer=function(){function e(e,t){var n=document.getElementById("rect"+e),o=new RegExp("(^| )rect-animate-color($| )","g");"session"===t?n.className+=" rect-animate-color":n.className=n.className.replace(o," ")}function t(){u?(u=!1,y.style.backgroundImage="url(../img/reload-icon.svg)",o()):(u=!0,y.style.backgroundImage="url(../img/play-icon.svg)",n())}function n(){a(!1),m=!1,r=!1,clearTimeout(c),clearTimeout(s),clearTimeout(d),clearTimeout(l),clearTimeout(commitUpdate),b.textContent=0,displayValue=setSession.getValue();for(var t=0;t<=i;t++)e(t,"reset")}function o(){var t=setSession.getValue(),n=setBreak.getValue(),u=t/i,f=n/i,y=u/4,B=0,k=0,C=0;r=!0,m||a(!0),commitUpdate=setInterval(function(){b.textContent=B.toString()+" contributions in the current session",B++},y*g),c=setInterval(function(){k<=i&&(e(k,"session"),k++)},u*g),s=setTimeout(function(){clearTimeout(commitUpdate),b.textContent="WARNING: the database server has gone away! Take a break...",d=setInterval(function(){C<=i&&(e(C,"break"),C++)},f*g)},t*g),l=setTimeout(function(){clearTimeout(c),clearTimeout(s),clearTimeout(d),clearTimeout(commitUpdate),r&&o()},(t+n)*g)}function a(e){!1===e?(B.disabled=!1,B.style.backgroundColor="#f7f9fa",k.disabled=!1,k.style.backgroundColor="#f7f9fa",C.disabled=!1,C.style.backgroundColor="#f7f9fa",E.disabled=!1,E.style.backgroundColor="#f7f9fa"):(B.disabled=!0,B.style.backgroundColor="#BCBCBC",k.disabled=!0,k.style.backgroundColor="#BCBCBC",C.disabled=!0,C.style.backgroundColor="#BCBCBC",E.disabled=!0,E.style.backgroundColor="#BCBCBC")}var i=364,r=!0,c=null,s=null,d=null,l=null,m=!1,u=!0,g=6e4,f=document.getElementById("timer-wrapper"),y=document.getElementById("start-btn"),B=document.getElementById("session-increase"),k=document.getElementById("session-decrease"),C=document.getElementById("break-increase"),E=document.getElementById("break-decrease"),b=document.getElementById("commit-count");document.getElementById("headline");y.addEventListener("click",t),function(){for(var e=new Date,t=e.getDay(),n=0;n<t;n++){var o=document.createElement("div");o.setAttribute("id","rect"+(i+1+n)),o.className+=" rect",f.appendChild(o)}i+=t}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzZXRCcmVhay5qcyIsInNldFNlc3Npb24uanMiLCJ0aW1lTWFya2Vycy5qcyIsInRpbWVyLmpzIl0sIm5hbWVzIjpbImFkZFplcm8iLCJuIiwic2V0QnJlYWsiLCJfcmVuZGVyIiwiYnJlYWtJbnB1dCIsInRleHRDb250ZW50IiwiYnJlYWtWYWx1ZSIsInRvU3RyaW5nIiwiX2luY3JlbWVudCIsIl9kZWNyZW1lbnQiLCJnZXRWYWx1ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbmNUaW1lIiwiZGVjVGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRTZXNzaW9uIiwic2Vzc2lvbklucHV0Iiwic2Vzc2lvblZhbHVlIiwidGltZU1hcmtlcnMiLCJtYXJrMCIsIk1hdGgiLCJmbG9vciIsIm1hcmsxIiwibWFyazIiLCJtYXJrMyIsIm1hcms0IiwidGltZXIiLCJpZCIsInR5cGUiLCJyZWN0YW5nbGUiLCJyZWciLCJSZWdFeHAiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiX2NvdW50ZG93blN3aXRjaCIsInBsYXlCdG4iLCJzdGFydCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiX3N0YXJ0Q291bnRkb3duIiwiX3Jlc2V0VGltZXIiLCJfZGlzYWJsZUJ0bnMiLCJkaXNhYmxlIiwicGxheU9uIiwiY2xlYXJUaW1lb3V0IiwibXlTZXNzaW9uQ291bnRkb3duIiwibXlCcmVha0NvdW50ZG93biIsIm15QnJlYWtJbm5lckNvdW50ZG93biIsImxvb3BUaW1lciIsImNvbW1pdFVwZGF0ZSIsImNvbW1pdENvdW50IiwiZGlzcGxheVZhbHVlIiwiaSIsIk5fUkVDVCIsInNlc3Npb25UaW1lIiwiYnJlYWtUaW1lIiwicmVjdFNlc3Npb25UaW1lIiwicmVjdEJyZWFrVGltZSIsImNvbW1pdFRpbWUiLCJjIiwicyIsImIiLCJzZXRJbnRlcnZhbCIsIm1pbnV0ZSIsInNldFRpbWVvdXQiLCJzZXNzaW9uSW5jQnRuIiwiZGlzYWJsZWQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzZXNzaW9uRGVjQnRuIiwiYnJlYWtJbmNCdG4iLCJicmVha0RlY0J0biIsInRpbWVyV3JhcHBlciIsImQiLCJEYXRlIiwid2Vla0RheSIsImdldERheSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUFBQSxFQ0RBLEdBQUFDLFVBQUEsV0FXQSxRQUFBQyxLQUNBQyxFQUFBQyxZQUFBLElBQUFDLEVBQUEsU0FBQUEsRUFBQUMsV0FBQSxPQUdBLFFBQUFDLEtBQ0EsS0FBQUYsSUFBQUEsR0FBQSxHQUNBSCxJQUdBLFFBQUFNLEtBQ0EsSUFBQUgsSUFBQUEsR0FBQSxHQUNBSCxJQUdBLFFBQUFPLEtBQ0EsTUFBQUosR0F6QkEsR0FBQUEsR0FBQSxFQUVBRixFQUFBTyxTQUFBQyxlQUFBLGVBQ0FDLEVBQUFGLFNBQUFDLGVBQUEsa0JBQ0FFLEVBQUFILFNBQUFDLGVBQUEsaUJBd0JBLE9BdEJBQyxHQUFBRSxpQkFBQSxRQUFBUCxHQUNBTSxFQUFBQyxpQkFBQSxRQUFBTixJQXNCQUMsU0FBQUEsTUM5QkFNLFdBQUEsV0FXQSxRQUFBYixLQUNBYyxFQUFBWixZQUFBLElBQUFhLEVBQUEsU0FBQUEsRUFBQVgsV0FBQSxPQUdBLFFBQUFDLEtBQ0EsTUFBQVUsSUFBQUEsR0FBQSxHQUNBZixJQUdBLFFBQUFNLEtBQ0EsSUFBQVMsSUFBQUEsR0FBQSxHQUNBZixJQUdBLFFBQUFPLEtBQ0EsTUFBQVEsR0F6QkEsR0FBQUEsR0FBQSxFQUVBRCxFQUFBTixTQUFBQyxlQUFBLGlCQUNBQyxFQUFBRixTQUFBQyxlQUFBLG9CQUNBRSxFQUFBSCxTQUFBQyxlQUFBLG1CQXdCQSxPQXRCQUMsR0FBQUUsaUJBQUEsUUFBQVAsR0FDQU0sRUFBQUMsaUJBQUEsUUFBQU4sSUFzQkFDLFNBQUFBLE1DOUJBUyxZQUFBLFdBYUEsUUFBQWhC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LFVBQ0FDLEVBQUFGLFVBQUEsRUFDQUUsRUFBQS9CLE1BQUE4QixnQkFBQSxVQUNBRSxFQUFBSCxVQUFBLEVBQ0FHLEVBQUFoQyxNQUFBOEIsZ0JBQUEsVUFDQUcsRUFBQUosVUFBQSxFQUNBSSxFQUFBakMsTUFBQThCLGdCQUFBLFdBN0lBLEdBQUFkLEdBQUEsSUFDQVYsR0FBQSxFQUNBRSxFQUFBLEtBQ0FDLEVBQUEsS0FDQUMsRUFBQSxLQUNBQyxFQUFBLEtBQ0FOLEdBQUEsRUFDQVAsR0FBQSxFQUNBNEIsRUFBQSxJQUVBUSxFQUFBN0QsU0FBQUMsZUFBQSxpQkFDQXlCLEVBQUExQixTQUFBQyxlQUFBLGFBQ0FzRCxFQUFBdkQsU0FBQUMsZUFBQSxvQkFDQXlELEVBQUExRCxTQUFBQyxlQUFBLG9CQUNBMEQsRUFBQTNELFNBQUFDLGVBQUEsa0JBQ0EyRCxFQUFBNUQsU0FBQUMsZUFBQSxrQkFDQXVDLEVBQUF4QyxTQUFBQyxlQUFBLGVBQ0FELFVBQUFDLGVBQUEsV0FFQXlCLEdBQUF0QixpQkFBQSxRQUFBb0IsR0FLQSxXQUlBLElBQUEsR0FIQXNDLEdBQUEsR0FBQUMsTUFDQUMsRUFBQUYsRUFBQUcsU0FFQXZCLEVBQUEsRUFBQUEsRUFBQXNCLEVBQUF0QixJQUFBLENBQ0EsR0FBQXdCLEdBQUFsRSxTQUFBbUUsY0FBQSxNQUNBRCxHQUFBRSxhQUFBLEtBQUEsUUFBQXpCLEVBQUEsRUFBQUQsSUFDQXdCLEVBQUE1QyxXQUFBLFFBQ0F1QyxFQUFBUSxZQUFBSCxHQUVBdkIsR0FBQXFCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAgZnVuY3Rpb24gYWRkWmVybyhuKSB7XG4gICAgcmV0dXJuIG4gPiA5ID8gXCJcIiArIG46IFwiMFwiICsgbjtcbiAgfVxuIiwidmFyIHNldEJyZWFrID0gKGZ1bmN0aW9uKCl7XG4gIHZhciBicmVha1ZhbHVlID0gNTtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIGJyZWFrSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5wdXQnKTtcbiAgdmFyIGluY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5jcmVhc2UnKTtcbiAgdmFyIGRlY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstZGVjcmVhc2UnKTtcbi8vICBCaW5kIGNsaWNrIGV2ZW50c1xuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2luY3JlbWVudCk7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZGVjcmVtZW50KTtcbi8vIFJlbmRlciB0aGUgaW5pdGlhbCB2YWx1ZSBmcm9tIGJyZWFrVmFsdWVcblxuICBmdW5jdGlvbiBfcmVuZGVyKCkge1xuICAgIGJyZWFrVmFsdWUgPT09IDUgPyBicmVha0lucHV0LnRleHRDb250ZW50ID0gJzA1IG1pbicgOiBicmVha0lucHV0LnRleHRDb250ZW50ID0gYnJlYWtWYWx1ZS50b1N0cmluZygpICsgJyBtaW4nO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luY3JlbWVudCgpIHtcbiAgICBicmVha1ZhbHVlID09PSA2MCA/ICcnIDogYnJlYWtWYWx1ZSArPSA1O1xuICAgIF9yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWNyZW1lbnQoKSB7XG4gICAgYnJlYWtWYWx1ZSA9PT0gNSA/ICcnIDogYnJlYWtWYWx1ZSAtPSA1O1xuICAgIF9yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZhbHVlICgpIHtcbiAgICAgcmV0dXJuIGJyZWFrVmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgICAgZ2V0VmFsdWUgOiBnZXRWYWx1ZVxuICB9O1xuXG59KSgpO1xuIiwidmFyIHNldFNlc3Npb24gPSAoZnVuY3Rpb24oKXtcbiAgdmFyIHNlc3Npb25WYWx1ZSA9IDU7XG4vLyBDYWNoZSB0aGUgRE9NXG4gIHZhciBzZXNzaW9uSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbnB1dCcpO1xuICB2YXIgaW5jVGltZSAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24taW5jcmVhc2UnKTtcbiAgdmFyIGRlY1RpbWUgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWRlY3JlYXNlJyk7XG4vLyAgQmluZCBjbGljayBldmVudHNcbiAgaW5jVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9pbmNyZW1lbnQpO1xuICBkZWNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2RlY3JlbWVudCk7XG4vLyBSZW5kZXIgdGhlIGluaXRpYWwgdmFsdWUgZnJvbSBzZXNzaW9uVmFsdWVcblxuICBmdW5jdGlvbiBfcmVuZGVyKCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gNSA/IHNlc3Npb25JbnB1dC50ZXh0Q29udGVudCA9ICcwNSBtaW4nIDogc2Vzc2lvbklucHV0LnRleHRDb250ZW50ID0gc2Vzc2lvblZhbHVlLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5jcmVtZW50KCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gMzYwID8gJycgOiBzZXNzaW9uVmFsdWUgKz0gNTtcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVjcmVtZW50KCkge1xuICAgIHNlc3Npb25WYWx1ZSA9PT0gNSA/ICcnIDogc2Vzc2lvblZhbHVlIC09IDU7XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUgKCkge1xuICAgICByZXR1cm4gc2Vzc2lvblZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlIDogZ2V0VmFsdWVcbiAgfTtcblxufSkoKTtcbiIsInZhciB0aW1lTWFya2VycyA9IChmdW5jdGlvbigpe1xuLy8gQ2FjaGUgdGhlIERPTVxuICB2YXIgbWFyazAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMCcpO1xuICB2YXIgbWFyazEgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMScpO1xuICB2YXIgbWFyazIgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMicpO1xuICB2YXIgbWFyazMgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstMycpO1xuICB2YXIgbWFyazQgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lLW1hcmstNCcpO1xuICB2YXIgaW5jVGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWluY3JlYXNlJyk7XG4gIHZhciBkZWNUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24tZGVjcmVhc2UnKTtcblxuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3JlbmRlcik7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfcmVuZGVyKTtcblxuICBmdW5jdGlvbiBfcmVuZGVyKCkge1xuICAgIG1hcmswLnRleHRDb250ZW50ID0gYWRkWmVybyhNYXRoLmZsb29yKHNldFNlc3Npb24uZ2V0VmFsdWUoKSAvIDUgKiAxKSkudG9TdHJpbmcoKSArICcgbWluJztcbiAgICBtYXJrMS50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogMikpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gICAgbWFyazIudGV4dENvbnRlbnQgPSBhZGRaZXJvKE1hdGguZmxvb3Ioc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpIC8gNSAqIDMpKS50b1N0cmluZygpICsgJyBtaW4nO1xuICAgIG1hcmszLnRleHRDb250ZW50ID0gYWRkWmVybyhNYXRoLmZsb29yKHNldFNlc3Npb24uZ2V0VmFsdWUoKSAvIDUgKiA0KSkudG9TdHJpbmcoKSArICcgbWluJztcbiAgICBtYXJrNC50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogNSkpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gIH1cbn0pKCk7XG4iLCJ2YXIgdGltZXIgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBOX1JFQ1QgICAgICAgICAgICAgICAgPSAzNjQ7XG4gIHZhciBwbGF5T24gICAgICAgICAgICAgICAgPSB0cnVlO1xuICB2YXIgbXlTZXNzaW9uQ291bnRkb3duICAgID0gbnVsbDtcbiAgdmFyIG15QnJlYWtDb3VudGRvd24gICAgICA9IG51bGw7XG4gIHZhciBteUJyZWFrSW5uZXJDb3VudGRvd24gPSBudWxsO1xuICB2YXIgbG9vcFRpbWVyICAgICAgICAgICAgID0gbnVsbDtcbiAgdmFyIGRpc2FibGUgICAgICAgICAgICAgICA9IGZhbHNlO1xuICB2YXIgcGxheUJ0biAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgdmFyIG1pbnV0ZSAgICAgICAgICAgICAgICA9IDYwMDAwO1xuLy8gQ2FjaGUgdGhlIERPTVxuICB2YXIgdGltZXJXcmFwcGVyICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lci13cmFwcGVyJyk7XG4gIHZhciBzdGFydCAgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LWJ0bicpO1xuICB2YXIgc2Vzc2lvbkluY0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWluY3JlYXNlJyk7XG4gIHZhciBzZXNzaW9uRGVjQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24tZGVjcmVhc2UnKTtcbiAgdmFyIGJyZWFrSW5jQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5jcmVhc2UnKTtcbiAgdmFyIGJyZWFrRGVjQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstZGVjcmVhc2UnKTtcbiAgdmFyIGNvbW1pdENvdW50ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tbWl0LWNvdW50Jyk7XG4gIHZhciBoZWFkbGluZSAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRsaW5lJyk7XG4vLyBCaW5kIGNsaWNrIGV2ZW50c1xuICBzdGFydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9jb3VudGRvd25Td2l0Y2gpO1xuLy8gUmVuZGVyIHRoZSB0aW1lciBkaXNwbGF5XG5cbl91cGRhdGVOdW1iZXJPZlJlY3RhbmdsZXMoKTtcblxuICBmdW5jdGlvbiBfdXBkYXRlTnVtYmVyT2ZSZWN0YW5nbGVzKCkge1xuICAgIHZhciBkICAgICAgID0gbmV3IERhdGUoKTtcbiAgICB2YXIgd2Vla0RheSA9IGQuZ2V0RGF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdlZWtEYXk7IGkrKykge1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBkaXYuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJyZWN0XCIgKyAoTl9SRUNUICsgMSArIGkpICk7XG4gICAgICBkaXYuY2xhc3NOYW1lICs9IFwiIHJlY3RcIjtcbiAgICAgIHRpbWVyV3JhcHBlci5hcHBlbmRDaGlsZChkaXYpO1xuICAgIH1cbiAgICBOX1JFQ1QgPSBOX1JFQ1QgKyB3ZWVrRGF5O1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlbmRlcihpZCwgdHlwZSkge1xuICAgIHZhciByZWN0YW5nbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjdCcgKyBpZCk7XG4gICAgdmFyIHJlZyAgICAgICA9IG5ldyBSZWdFeHAoJyhefCApJysgJ3JlY3QtYW5pbWF0ZS1jb2xvcicgKycoJHwgKScsJ2cnKTtcblxuICAgIHR5cGUgPT09ICdzZXNzaW9uJyA/IHJlY3RhbmdsZS5jbGFzc05hbWUgKz0gXCIgcmVjdC1hbmltYXRlLWNvbG9yXCIgOiByZWN0YW5nbGUuY2xhc3NOYW1lID0gcmVjdGFuZ2xlLmNsYXNzTmFtZS5yZXBsYWNlKHJlZywnICcpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NvdW50ZG93blN3aXRjaCgpIHtcbiAgICBpZihwbGF5QnRuKSB7XG4gICAgICBwbGF5QnRuID0gZmFsc2U7XG4gICAgICBzdGFydC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguLi9pbWcvcmVsb2FkLWljb24uc3ZnKVwiO1xuICAgICAgX3N0YXJ0Q291bnRkb3duKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXlCdG4gPSB0cnVlO1xuICAgICAgc3RhcnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi4vaW1nL3BsYXktaWNvbi5zdmcpXCI7XG4gICAgICBfcmVzZXRUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZXNldFRpbWVyKCkge1xuICAgIF9kaXNhYmxlQnRucyhmYWxzZSk7XG4gICAgZGlzYWJsZSA9IGZhbHNlO1xuICAgIHBsYXlPbiA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dChteVNlc3Npb25Db3VudGRvd24pO1xuICAgIGNsZWFyVGltZW91dChteUJyZWFrQ291bnRkb3duKTtcbiAgICBjbGVhclRpbWVvdXQobXlCcmVha0lubmVyQ291bnRkb3duKTtcbiAgICBjbGVhclRpbWVvdXQobG9vcFRpbWVyKTtcbiAgICBjbGVhclRpbWVvdXQoY29tbWl0VXBkYXRlKTtcbiAgICBjb21taXRDb3VudC50ZXh0Q29udGVudCA9IDA7XG4gICAgZGlzcGxheVZhbHVlID0gc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IE5fUkVDVDsgaSsrKSB7XG4gICAgICBfcmVuZGVyKGksJ3Jlc2V0Jyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0Q291bnRkb3duKCkge1xuICAgIHZhciBzZXNzaW9uVGltZSAgICAgPSBzZXRTZXNzaW9uLmdldFZhbHVlKCk7XG4gICAgdmFyIGJyZWFrVGltZSAgICAgICA9IHNldEJyZWFrLmdldFZhbHVlKCk7XG4gICAgdmFyIHJlY3RTZXNzaW9uVGltZSA9IHNlc3Npb25UaW1lIC8gTl9SRUNUO1xuICAgIHZhciByZWN0QnJlYWtUaW1lICAgPSBicmVha1RpbWUgLyBOX1JFQ1Q7XG4gICAgdmFyIGNvbW1pdFRpbWUgICAgICA9IHJlY3RTZXNzaW9uVGltZSAvIDQ7XG4gICAgdmFyIGMgICAgICAgICAgICAgICA9IDA7XG4gICAgdmFyIHMgICAgICAgICAgICAgICA9IDA7XG4gICAgdmFyIGIgICAgICAgICAgICAgICA9IDA7XG4gICAgcGxheU9uICAgICAgICAgICAgICA9IHRydWU7XG5cbiAgICBpZighZGlzYWJsZSkge1xuICAgIF9kaXNhYmxlQnRucyh0cnVlKTtcbiAgICB9XG5cbiAgICBjb21taXRVcGRhdGUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGNvbW1pdENvdW50LnRleHRDb250ZW50ID0gYy50b1N0cmluZygpICsgJyBjb250cmlidXRpb25zIGluIHRoZSBjdXJyZW50IHNlc3Npb24nO1xuICAgICAgYysrO1xuICAgIH0sIGNvbW1pdFRpbWUgKiBtaW51dGUpO1xuXG4gICAgbXlTZXNzaW9uQ291bnRkb3duID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBpZihzIDw9IE5fUkVDVCkge1xuICAgICAgICBfcmVuZGVyKHMsJ3Nlc3Npb24nKTtcbiAgICAgICAgcysrO1xuICAgICAgfVxuICAgIH0sIHJlY3RTZXNzaW9uVGltZSAqIG1pbnV0ZSk7XG5cbiAgICBteUJyZWFrQ291bnRkb3duID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBjbGVhclRpbWVvdXQoY29tbWl0VXBkYXRlKTtcbiAgICAgIGNvbW1pdENvdW50LnRleHRDb250ZW50ID0gJ1dBUk5JTkc6IHRoZSBkYXRhYmFzZSBzZXJ2ZXIgaGFzIGdvbmUgYXdheSEgVGFrZSBhIGJyZWFrLi4uJztcbiAgICAgIG15QnJlYWtJbm5lckNvdW50ZG93biA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZihiIDw9IE5fUkVDVCkge1xuICAgICAgICAgIF9yZW5kZXIoYiwnYnJlYWsnKTtcbiAgICAgICAgICBiKys7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlY3RCcmVha1RpbWUgKiBtaW51dGUpO1xuICAgIH0sIHNlc3Npb25UaW1lICogbWludXRlKTtcblxuICAgIGxvb3BUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQobXlTZXNzaW9uQ291bnRkb3duKTtcbiAgICAgIGNsZWFyVGltZW91dChteUJyZWFrQ291bnRkb3duKTtcbiAgICAgIGNsZWFyVGltZW91dChteUJyZWFrSW5uZXJDb3VudGRvd24pO1xuICAgICAgY2xlYXJUaW1lb3V0KGNvbW1pdFVwZGF0ZSk7XG4gICAgICBpZiAocGxheU9uKSB7XG4gICAgICAgICBfc3RhcnRDb3VudGRvd24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LChzZXNzaW9uVGltZSArIGJyZWFrVGltZSkgKiBtaW51dGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Rpc2FibGVCdG5zKGRpc2FibGUpIHtcbiAgICBpZihkaXNhYmxlID09PSBmYWxzZSkge1xuICAgICAgc2Vzc2lvbkluY0J0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgc2Vzc2lvbkluY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmN2Y5ZmFcIjtcbiAgICAgIHNlc3Npb25EZWNCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHNlc3Npb25EZWNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZjdmOWZhXCI7XG4gICAgICBicmVha0luY0J0bi5kaXNhYmxlZCAgID0gZmFsc2U7XG4gICAgICBicmVha0luY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgICA9IFwiI2Y3ZjlmYVwiO1xuICAgICAgYnJlYWtEZWNCdG4uZGlzYWJsZWQgICA9IGZhbHNlO1xuICAgICAgYnJlYWtEZWNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yICAgPSBcIiNmN2Y5ZmFcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Vzc2lvbkluY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZXNzaW9uSW5jQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0JDQkNCQ1wiO1xuICAgICAgc2Vzc2lvbkRlY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZXNzaW9uRGVjQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0JDQkNCQ1wiO1xuICAgICAgYnJlYWtJbmNCdG4uZGlzYWJsZWQgICA9IHRydWU7XG4gICAgICBicmVha0luY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgICA9IFwiI0JDQkNCQ1wiO1xuICAgICAgYnJlYWtEZWNCdG4uZGlzYWJsZWQgICA9IHRydWU7XG4gICAgICBicmVha0RlY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgICA9IFwiI0JDQkNCQ1wiO1xuICAgIH1cbiAgfVxuXG59KSgpO1xuIl19
