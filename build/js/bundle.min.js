var setBreak=function(){function e(){c.textContent=a.toString()+" min"}function t(){60===a||a++,e()}function n(){1===a||a--,e()}function i(){return a}var a=10,c=document.getElementById("break-input"),s=document.getElementById("break-increase"),r=document.getElementById("break-decrease");return s.addEventListener("click",t),r.addEventListener("click",n),e(),{getValue:i}}(),setSession=function(){function e(){c.textContent=a.toString()+" min"}function t(){360===a||a++,e()}function n(){1===a||a--,e()}function i(){return a}var a=25,c=document.getElementById("session-input"),s=document.getElementById("session-increase"),r=document.getElementById("session-decrease");return s.addEventListener("click",t),r.addEventListener("click",n),e(),{getValue:i}}(),timer=function(){function e(e,t){var n=document.getElementById("rect"+e),i=new RegExp("(^| )rect-animate-color($| )","g");"session"===t?n.className+=" rect-animate-color":n.className=n.className.replace(i," ")}function t(){m?(m=!1,i()):(m=!0,n())}function n(){a(!1),l=!1,s=!1,clearTimeout(r),clearTimeout(o),clearTimeout(d),clearTimeout(u),displayValue=setSession.getValue();for(var t=0;t<=c;t++)e(t,"reset")}function i(){var t=setSession.getValue()+1,n=setBreak.getValue()+1,m=t/c,f=n/c,g=0,E=0;s=!0,l||a(!0),r=setInterval(function(){g<=c&&(e(g,"session"),g++)},1e3*m),o=setTimeout(function(){d=setInterval(function(){E<=c&&(e(E,"break"),E++)},1e3*f)},1e3*t),u=setTimeout(function(){clearTimeout(r),clearTimeout(o),clearTimeout(d),s&&i()},1e3*(t+n+1))}function a(e){!1===e?(E.disabled=!1,v.disabled=!1,b.disabled=!1,y.disabled=!1):(E.disabled=!0,v.disabled=!0,b.disabled=!0,y.disabled=!0)}var c=364,s=!0,r=null,o=null,d=null,u=null,l=!1,m=!0,f=document.getElementById("timer-wrapper"),g=document.getElementById("start-btn"),E=document.getElementById("session-increase"),v=document.getElementById("session-decrease"),b=document.getElementById("break-increase"),y=document.getElementById("break-decrease");g.addEventListener("click",t),function(){for(var e=new Date,t=e.getDay(),n=0;n<t;n++){var i=document.createElement("div");i.setAttribute("id","rect"+(c+1+n)),i.className+=" rect",f.appendChild(i)}c+=t}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldEJyZWFrLmpzIiwic2V0U2Vzc2lvbi5qcyIsInRpbWVyLmpzIl0sIm5hbWVzIjpbInNldEJyZWFrIiwiX3JlbmRlciIsImJyZWFrSW5wdXQiLCJ0ZXh0Q29udGVudCIsImJyZWFrVmFsdWUiLCJ0b1N0cmluZyIsIl9pbmNyZW1lbnQiLCJfZGVjcmVtZW50IiwiZ2V0VmFsdWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5jVGltZSIsImRlY1RpbWUiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0U2Vzc2lvbiIsInNlc3Npb25JbnB1dCIsInNlc3Npb25WYWx1ZSIsInRpbWVyIiwiaWQiLCJ0eXBlIiwicmVjdGFuZ2xlIiwicmVnIiwiUmVnRXhwIiwiY2xhc3NOYW1lIiwicmVwbGFjZSIsIl9jb3VudGRvd25Td2l0Y2giLCJwbGF5QnRuIiwiX3N0YXJ0Q291bnRkb3duIiwiX3Jlc2V0VGltZXIiLCJfZGlzYWJsZUJ0bnMiLCJkaXNhYmxlIiwicGxheU9uIiwiY2xlYXJUaW1lb3V0IiwibXlTZXNzaW9uQ291bnRkb3duIiwibXlCcmVha0NvdW50ZG93biIsIm15QnJlYWtJbm5lckNvdW50ZG93biIsImxvb3BUaW1lciIsImRpc3BsYXlWYWx1ZSIsImkiLCJOX1JFQ1QiLCJzZXNzaW9uVGltZSIsImJyZWFrVGltZSIsInJlY3RTZXNzaW9uVGltZSIsInJlY3RCcmVha1RpbWUiLCJzIiwiYiIsInNldEludGVydmFsIiwic2V0VGltZW91dCIsInNlc3Npb25JbmNCdG4iLCJkaXNhYmxlZCIsInNlc3Npb25EZWNCdG4iLCJicmVha0luY0J0biIsImJyZWFrRGVjQnRuIiwidGltZXJXcmFwcGVyIiwic3RhcnQiLCJkIiwiRGF0ZSIsIndlZWtEYXkiLCJnZXREYXkiLCJkaXYiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLFVBQUEsV0FZQSxRQUFBQyxLQUNBQyxFQUFBQyxZ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LEdBS0EsV0FJQSxJQUFBLEdBSEE4QixHQUFBLEdBQUFDLE1BQ0FDLEVBQUFGLEVBQUFHLFNBRUFwQixFQUFBLEVBQUFBLEVBQUFtQixFQUFBbkIsSUFBQSxDQUNBLEdBQUFxQixHQUFBbEQsU0FBQW1ELGNBQUEsTUFDQUQsR0FBQUUsYUFBQSxLQUFBLFFBQUF0QixFQUFBLEVBQUFELElBQ0FxQixFQUFBcEMsV0FBQSxRQUNBOEIsRUFBQVMsWUFBQUgsR0FFQXBCLEdBQUFrQiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2V0QnJlYWsgPSAoZnVuY3Rpb24oKXtcbiAgdmFyIGJyZWFrVmFsdWUgPSAxMDtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIGJyZWFrSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5wdXQnKTtcbiAgdmFyIGluY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5jcmVhc2UnKTtcbiAgdmFyIGRlY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstZGVjcmVhc2UnKTtcbi8vICBCaW5kIGNsaWNrIGV2ZW50c1xuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2luY3JlbWVudCk7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZGVjcmVtZW50KTtcbi8vIFJlbmRlciB0aGUgaW5pdGlhbCB2YWx1ZSBmcm9tIGJyZWFrVmFsdWVcbiAgX3JlbmRlcigpO1xuXG4gIGZ1bmN0aW9uIF9yZW5kZXIoKSB7XG4gICAgYnJlYWtJbnB1dC50ZXh0Q29udGVudCA9IGJyZWFrVmFsdWUudG9TdHJpbmcoKSArICcgbWluJztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbmNyZW1lbnQoKSB7XG4gICAgYnJlYWtWYWx1ZSA9PT0gNjAgPyAnJyA6IGJyZWFrVmFsdWUrKztcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVjcmVtZW50KCkge1xuICAgIGJyZWFrVmFsdWUgPT09IDEgPyAnJyA6IGJyZWFrVmFsdWUtLTtcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRWYWx1ZSAoKSB7XG4gICAgIHJldHVybiBicmVha1ZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlIDogZ2V0VmFsdWVcbiAgfTtcblxufSkoKTtcbiIsInZhciBzZXRTZXNzaW9uID0gKGZ1bmN0aW9uKCl7XG4gIHZhciBzZXNzaW9uVmFsdWUgPSAyNTtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIHNlc3Npb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWlucHV0Jyk7XG4gIHZhciBpbmNUaW1lICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbmNyZWFzZScpO1xuICB2YXIgZGVjVGltZSAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24tZGVjcmVhc2UnKTtcbi8vICBCaW5kIGNsaWNrIGV2ZW50c1xuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2luY3JlbWVudCk7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZGVjcmVtZW50KTtcbi8vIFJlbmRlciB0aGUgaW5pdGlhbCB2YWx1ZSBmcm9tIHNlc3Npb25WYWx1ZVxuICBfcmVuZGVyKCk7XG5cbiAgZnVuY3Rpb24gX3JlbmRlcigpIHtcbiAgICBzZXNzaW9uSW5wdXQudGV4dENvbnRlbnQgPSBzZXNzaW9uVmFsdWUudG9TdHJpbmcoKSArICcgbWluJztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbmNyZW1lbnQoKSB7XG4gICAgc2Vzc2lvblZhbHVlID09PSAzNjAgPyAnJyA6IHNlc3Npb25WYWx1ZSsrO1xuICAgIF9yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWNyZW1lbnQoKSB7XG4gICAgc2Vzc2lvblZhbHVlID09PSAxID8gJycgOiBzZXNzaW9uVmFsdWUtLTtcbiAgICBfcmVuZGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRWYWx1ZSAoKSB7XG4gICAgIHJldHVybiBzZXNzaW9uVmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgICAgZ2V0VmFsdWUgOiBnZXRWYWx1ZVxuICB9O1xuXG59KSgpO1xuIiwidmFyIHRpbWVyID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgTl9SRUNUICAgICAgICAgICAgICAgID0gMzY0O1xuICB2YXIgcGxheU9uICAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgdmFyIG15U2Vzc2lvbkNvdW50ZG93biAgICA9IG51bGw7XG4gIHZhciBteUJyZWFrQ291bnRkb3duICAgICAgPSBudWxsO1xuICB2YXIgbXlCcmVha0lubmVyQ291bnRkb3duID0gbnVsbDtcbiAgdmFyIGxvb3BUaW1lciAgICAgICAgICAgICA9IG51bGw7XG4gIHZhciBkaXNhYmxlICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgdmFyIHBsYXlCdG4gICAgICAgICAgICAgICA9IHRydWU7XG4vLyBDYWNoZSB0aGUgRE9NXG4gIHZhciB0aW1lcldyYXBwZXIgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVyLXdyYXBwZXInKTtcbiAgdmFyIHN0YXJ0ICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtYnRuJyk7XG4gIHZhciBzZXNzaW9uSW5jQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24taW5jcmVhc2UnKTtcbiAgdmFyIHNlc3Npb25EZWNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1kZWNyZWFzZScpO1xuICB2YXIgYnJlYWtJbmNCdG4gICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVhay1pbmNyZWFzZScpO1xuICB2YXIgYnJlYWtEZWNCdG4gICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmVhay1kZWNyZWFzZScpO1xuLy8gQmluZCBjbGljayBldmVudHNcbiAgc3RhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY291bnRkb3duU3dpdGNoKTtcbi8vIFJlbmRlciB0aGUgdGltZXIgZGlzcGxheVxuXG5fdXBkYXRlTnVtYmVyT2ZSZWN0YW5nbGVzKCk7XG5cbiAgZnVuY3Rpb24gX3VwZGF0ZU51bWJlck9mUmVjdGFuZ2xlcygpIHtcbiAgICB2YXIgZCAgICAgICA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIHdlZWtEYXkgPSBkLmdldERheSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3ZWVrRGF5OyBpKyspIHtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicmVjdFwiICsgKE5fUkVDVCArIDEgKyBpKSApO1xuICAgICAgZGl2LmNsYXNzTmFtZSArPSBcIiByZWN0XCI7XG4gICAgICB0aW1lcldyYXBwZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9XG4gICAgTl9SRUNUID0gTl9SRUNUICsgd2Vla0RheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZW5kZXIoaWQsIHR5cGUpIHtcbiAgICB2YXIgcmVjdGFuZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY3QnICsgaWQpO1xuICAgIHZhciByZWcgICAgICAgPSBuZXcgUmVnRXhwKCcoXnwgKScrICdyZWN0LWFuaW1hdGUtY29sb3InICsnKCR8ICknLCdnJyk7XG5cbiAgICB0eXBlID09PSAnc2Vzc2lvbicgPyByZWN0YW5nbGUuY2xhc3NOYW1lICs9IFwiIHJlY3QtYW5pbWF0ZS1jb2xvclwiIDogcmVjdGFuZ2xlLmNsYXNzTmFtZSA9IHJlY3RhbmdsZS5jbGFzc05hbWUucmVwbGFjZShyZWcsJyAnKTtcbiAgfVxuXG5mdW5jdGlvbiBfY291bnRkb3duU3dpdGNoKCkge1xuICBpZihwbGF5QnRuKSB7XG4gICAgcGxheUJ0biA9IGZhbHNlO1xuICAgIF9zdGFydENvdW50ZG93bigpO1xuICB9IGVsc2Uge1xuICAgIHBsYXlCdG4gPSB0cnVlO1xuICAgIF9yZXNldFRpbWVyKCk7XG4gIH1cbn1cblxuICBmdW5jdGlvbiBfcmVzZXRUaW1lcigpIHtcbiAgICBfZGlzYWJsZUJ0bnMoZmFsc2UpO1xuICAgIGRpc2FibGUgPSBmYWxzZTtcbiAgICBwbGF5T24gPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQobXlTZXNzaW9uQ291bnRkb3duKTtcbiAgICBjbGVhclRpbWVvdXQobXlCcmVha0NvdW50ZG93bik7XG4gICAgY2xlYXJUaW1lb3V0KG15QnJlYWtJbm5lckNvdW50ZG93bik7XG4gICAgY2xlYXJUaW1lb3V0KGxvb3BUaW1lcik7XG4gICAgZGlzcGxheVZhbHVlID0gc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IE5fUkVDVDsgaSsrKSB7XG4gICAgICBfcmVuZGVyKGksJ3Jlc2V0Jyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0Q291bnRkb3duKCkge1xuICAgIHZhciBzZXNzaW9uVGltZSAgICAgPSBzZXRTZXNzaW9uLmdldFZhbHVlKCkgKyAxO1xuICAgIHZhciBicmVha1RpbWUgICAgICAgPSBzZXRCcmVhay5nZXRWYWx1ZSgpICsgMTtcbiAgICB2YXIgcmVjdFNlc3Npb25UaW1lID0gc2Vzc2lvblRpbWUgLyBOX1JFQ1Q7XG4gICAgdmFyIHJlY3RCcmVha1RpbWUgICA9ICBicmVha1RpbWUgLyBOX1JFQ1Q7XG4gICAgdmFyIHMgICAgICAgICAgICAgICA9IDA7XG4gICAgdmFyIGIgICAgICAgICAgICAgICA9IDA7XG4gICAgcGxheU9uICAgICAgICAgICAgICA9IHRydWU7XG5cbiAgICBpZighZGlzYWJsZSkge1xuICAgIF9kaXNhYmxlQnRucyh0cnVlKTtcbiAgICB9XG5cbiAgICBteVNlc3Npb25Db3VudGRvd24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGlmKHMgPD0gTl9SRUNUKSB7XG4gICAgICBfcmVuZGVyKHMsJ3Nlc3Npb24nKTtcbiAgICAgIHMrKztcbiAgICAgIH1cbiAgICB9LCByZWN0U2Vzc2lvblRpbWUgKiAxMDAwKTtcblxuICAgIG15QnJlYWtDb3VudGRvd24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG15QnJlYWtJbm5lckNvdW50ZG93biA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZihiIDw9IE5fUkVDVCkge1xuICAgICAgICAgIF9yZW5kZXIoYiwnYnJlYWsnKTtcbiAgICAgICAgICBiKys7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlY3RCcmVha1RpbWUgKiAxMDAwKTtcbiAgICB9LCBzZXNzaW9uVGltZSAqIDEwMDApO1xuXG4gICAgbG9vcFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGNsZWFyVGltZW91dChteVNlc3Npb25Db3VudGRvd24pO1xuICAgICAgY2xlYXJUaW1lb3V0KG15QnJlYWtDb3VudGRvd24pO1xuICAgICAgY2xlYXJUaW1lb3V0KG15QnJlYWtJbm5lckNvdW50ZG93bik7XG4gICAgICBpZiAocGxheU9uKSB7XG4gICAgICAgICBfc3RhcnRDb3VudGRvd24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LChzZXNzaW9uVGltZSArIGJyZWFrVGltZSArIDEpICogMTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGlzYWJsZUJ0bnMoZGlzYWJsZSkge1xuICAgIGlmKGRpc2FibGUgPT09IGZhbHNlKSB7XG4gICAgICBzZXNzaW9uSW5jQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBzZXNzaW9uRGVjQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBicmVha0luY0J0bi5kaXNhYmxlZCAgID0gZmFsc2U7XG4gICAgICBicmVha0RlY0J0bi5kaXNhYmxlZCAgID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlc3Npb25JbmNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2Vzc2lvbkRlY0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBicmVha0luY0J0bi5kaXNhYmxlZCAgID0gdHJ1ZTtcbiAgICAgIGJyZWFrRGVjQnRuLmRpc2FibGVkICAgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG59KSgpO1xuIl19
