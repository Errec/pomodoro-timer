function addZero(e){return e>9?""+e:"0"+e}var setBreak=function(){function e(){r.textContent=5===a?"05 min":a.toString()+" min"}function t(){60===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,r=document.getElementById("break-input"),i=document.getElementById("break-increase"),s=document.getElementById("break-decrease");return i.addEventListener("click",t),s.addEventListener("click",n),e(),{getValue:o}}(),setSession=function(){function e(){r.textContent=5===a?"05 min":a.toString()+" min"}function t(){360===a||(a+=5),e()}function n(){5===a||(a-=5),e()}function o(){return a}var a=5,r=document.getElementById("session-input"),i=document.getElementById("session-increase"),s=document.getElementById("session-decrease");return i.addEventListener("click",t),s.addEventListener("click",n),e(),{getValue:o}}(),timeMarkers=function(){function e(){t.textContent=addZero(Math.floor(setSession.getValue()/5*1)).toString()+" min",n.textContent=addZero(Math.floor(setSession.getValue()/5*2)).toString()+" min",o.textContent=addZero(Math.floor(setSession.getValue()/5*3)).toString()+" min",a.textContent=addZero(Math.floor(setSession.getValue()/5*4)).toString()+" min",r.textContent=addZero(Math.floor(setSession.getValue()/5*5)).toString()+" min"}var t=document.getElementById("time-mark-0"),n=document.getElementById("time-mark-1"),o=document.getElementById("time-mark-2"),a=document.getElementById("time-mark-3"),r=document.getElementById("time-mark-4"),i=document.getElementById("session-increase"),s=document.getElementById("session-decrease");i.addEventListener("click",e),s.addEventListener("click",e)}(),timer=function(){function e(e,t){var n=document.getElementById("rect"+e),o=new RegExp("(^| )rect-animate-color($| )","g");"session"===t?n.className+=" rect-animate-color":n.className=n.className.replace(o," ")}function t(){m?(m=!1,B.style.backgroundImage="url(../img/reload-icon.svg)",o()):(m=!0,B.style.backgroundImage="url(../img/play-icon.svg)",n())}function n(){a(!1),u=!1,i=!1,clearTimeout(s),clearTimeout(d),clearTimeout(c),clearTimeout(l),displayValue=setSession.getValue();for(var t=0;t<=r;t++)e(t,"reset")}function o(){var t=setSession.getValue(),n=setBreak.getValue(),m=t/r,f=n/r,B=0,y=0;i=!0,u||a(!0),s=setInterval(function(){B<=r&&(e(B,"session"),B++)},m*g),d=setTimeout(function(){c=setInterval(function(){y<=r&&(e(y,"break"),y++)},f*g)},t*g),l=setTimeout(function(){clearTimeout(s),clearTimeout(d),clearTimeout(c),i&&o()},(t+n)*g)}function a(e){!1===e?(y.disabled=!1,y.style.backgroundColor="#f7f9fa",k.disabled=!1,k.style.backgroundColor="#f7f9fa",E.disabled=!1,E.style.backgroundColor="#f7f9fa",C.disabled=!1,C.style.backgroundColor="#f7f9fa"):(y.disabled=!0,y.style.backgroundColor="#BCBCBC",k.disabled=!0,k.style.backgroundColor="#BCBCBC",E.disabled=!0,E.style.backgroundColor="#BCBCBC",C.disabled=!0,C.style.backgroundColor="#BCBCBC")}var r=364,i=!0,s=null,d=null,c=null,l=null,u=!1,m=!0,g=6e4,f=document.getElementById("timer-wrapper"),B=document.getElementById("start-btn"),y=document.getElementById("session-increase"),k=document.getElementById("session-decrease"),E=document.getElementById("break-increase"),C=document.getElementById("break-decrease");B.addEventListener("click",t),function(){for(var e=new Date,t=e.getDay(),n=0;n<t;n++){var o=document.createElement("div");o.setAttribute("id","rect"+(r+1+n)),o.className+=" rect",f.appendChild(o)}r+=t}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzZXRCcmVhay5qcyIsInNldFNlc3Npb24uanMiLCJ0aW1lTWFya2Vycy5qcyIsInRpbWVyLmpzIl0sIm5hbWVzIjpbImFkZFplcm8iLCJuIiwic2V0QnJlYWsiLCJfcmVuZGVyIiwiYnJlYWtJbnB1dCIsInRleHRDb250ZW50IiwiYnJlYWtWYWx1ZSIsInRvU3RyaW5nIiwiX2luY3JlbWVudCIsIl9kZWNyZW1lbnQiLCJnZXRWYWx1ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbmNUaW1lIiwiZGVjVGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRTZXNzaW9uIiwic2Vzc2lvbklucHV0Iiwic2Vzc2lvblZhbHVlIiwidGltZU1hcmtlcnMiLCJtYXJrMCIsIk1hdGgiLCJmbG9vciIsIm1hcmsxIiwibWFyazIiLCJtYXJrMyIsIm1hcms0IiwidGltZXIiLCJpZCIsInR5cGUiLCJyZWN0YW5nbGUiLCJyZWciLCJSZWdFeHAiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiX2NvdW50ZG93blN3aXRjaCIsInBsYXlCdG4iLCJzdGFydCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiX3N0YXJ0Q291bnRkb3duIiwiX3Jlc2V0VGltZXIiLCJfZGlzYWJsZUJ0bnMiLCJkaXNhYmxlIiwicGxheU9uIiwiY2xlYXJUaW1lb3V0IiwibXlTZXNzaW9uQ291bnRkb3duIiwibXlCcmVha0NvdW50ZG93biIsIm15QnJlYWtJbm5lckNvdW50ZG93biIsImxvb3BUaW1lciIsImRpc3BsYXlWYWx1ZSIsImkiLCJOX1JFQ1QiLCJzZXNzaW9uVGltZSIsImJyZWFrVGltZSIsInJlY3RTZXNzaW9uVGltZSIsInJlY3RCcmVha1RpbWUiLCJzIiwiYiIsInNldEludGVydmFsIiwibWludXRlIiwic2V0VGltZW91dCIsInNlc3Npb25JbmNCdG4iLCJkaXNhYmxlZCIsImJhY2tncm91bmRDb2xvciIsInNlc3Npb25EZWNCdG4iLCJicmVha0luY0J0biIsImJyZWFrRGVjQnRuIiwidGltZXJXcmFwcGVyIiwiZCIsIkRhdGUiLCJ3ZWVrRGF5IiwiZ2V0RGF5IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiQUFBQSxRQUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUEsRUFBQSxHQUFBQSxFQUFBLElBQUFBLEVDREEsR0FBQUMsVUFBQSxXQVlBLFFBQUFDLEtBQ0FDLEVBQUFDLFlBQUEsSUFBQUMsRUFBQSxTQUFBQSxFQUFBQyxXQUFBLE9BR0EsUUFBQUMsS0FDQSxLQUFBRixJQUFBQSxHQUFBLEdBQ0FILElBR0EsUUFBQU0sS0FDQSxJQUFBSCxJQUFBQSxHQUFBLEdBQ0FILElBR0EsUUFBQU8sS0FDQSxNQUFBSixHQTFCQSxHQUFBQSxHQUFBLEVBRUFGLEVBQUFPLFNBQUFDLGVBQUEsZUFDQUMsRUFBQUYsU0FBQUMsZUFBQSxrQkFDQUUsRUFBQUgsU0FBQUMsZUFBQSxpQkF5QkEsT0F2QkFDLEdBQUFFLGlCQUFBLFFBQUFQLEdBQ0FNLEVBQUFDLGlCQUFBLFFBQUFOLEdBRUFOLEtBcUJBTyxTQUFBQSxNQy9CQU0sV0FBQSxXQVlBLFFBQUFiLEtBQ0FjLEVBQUFaLFlBQUEsSUFBQWEsRUFBQSxTQUFBQSxFQUFBWCxXQUFBLE9BR0EsUUFBQUMsS0FDQSxNQUFBVSxJQUFBQSxHQUFBLEdBQ0FmLElBR0EsUUFBQU0sS0FDQSxJQUFBUyxJQUFBQSxHQUFBLEdBQ0FmLElBR0EsUUFBQU8sS0FDQSxNQUFBUSxHQTFCQSxHQUFBQSxHQUFBLEVBRUFELEVBQUFOLFNBQUFDLGVBQUEsaUJBQ0FDLEVBQUFGLFNBQUFDLGVBQUEsb0JBQ0FFLEVBQUFILFNBQUFDLGVBQUEsbUJBeUJBLE9BdkJBQyxHQUFBRSxpQkFBQSxRQUFBUCxHQUNBTSxFQUFBQyxpQkFBQSxRQUFBTixHQUVBTixLQXFCQU8sU0FBQUEsTUMvQkFTLFlBQUEsV0FhQSxRQUFBaEIsS0FDQWlCLEVBQUFmLFlBQUFMLFFBQUFxQixLQUFBQyxN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RUFDQVAsR0FBQSxFQUNBd0IsRUFBQSxJQUVBUSxFQUFBekQsU0FBQUMsZUFBQSxpQkFDQXlCLEVBQUExQixTQUFBQyxlQUFBLGFBQ0FrRCxFQUFBbkQsU0FBQUMsZUFBQSxvQkFDQXFELEVBQUF0RCxTQUFBQyxlQUFBLG9CQUNBc0QsRUFBQXZELFNBQUFDLGVBQUEsa0JBQ0F1RCxFQUFBeEQsU0FBQUMsZUFBQSxpQkFFQXlCLEdBQUF0QixpQkFBQSxRQUFBb0IsR0FLQSxXQUlBLElBQUEsR0FIQWtDLEdBQUEsR0FBQUMsTUFDQUMsRUFBQUYsRUFBQUcsU0FFQXJCLEVBQUEsRUFBQUEsRUFBQW9CLEVBQUFwQixJQUFBLENBQ0EsR0FBQXNCLEdBQUE5RCxTQUFBK0QsY0FBQSxNQUNBRCxHQUFBRSxhQUFBLEtBQUEsUUFBQXZCLEVBQUEsRUFBQUQsSUFDQXNCLEVBQUF4QyxXQUFBLFFBQ0FtQyxFQUFBUSxZQUFBSCxHQUVBckIsR0FBQW1CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAgZnVuY3Rpb24gYWRkWmVybyhuKSB7XG4gICAgcmV0dXJuIG4gPiA5ID8gXCJcIiArIG46IFwiMFwiICsgbjtcbiAgfVxuIiwidmFyIHNldEJyZWFrID0gKGZ1bmN0aW9uKCl7XG4gIHZhciBicmVha1ZhbHVlID0gNTtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIGJyZWFrSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5wdXQnKTtcbiAgdmFyIGluY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstaW5jcmVhc2UnKTtcbiAgdmFyIGRlY1RpbWUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstZGVjcmVhc2UnKTtcbi8vICBCaW5kIGNsaWNrIGV2ZW50c1xuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2luY3JlbWVudCk7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZGVjcmVtZW50KTtcbi8vIFJlbmRlciB0aGUgaW5pdGlhbCB2YWx1ZSBmcm9tIGJyZWFrVmFsdWVcbiAgX3JlbmRlcigpO1xuXG4gIGZ1bmN0aW9uIF9yZW5kZXIoKSB7XG4gICAgYnJlYWtWYWx1ZSA9PT0gNSA/IGJyZWFrSW5wdXQudGV4dENvbnRlbnQgPSAnMDUgbWluJyA6IGJyZWFrSW5wdXQudGV4dENvbnRlbnQgPSBicmVha1ZhbHVlLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5jcmVtZW50KCkge1xuICAgIGJyZWFrVmFsdWUgPT09IDYwID8gJycgOiBicmVha1ZhbHVlICs9IDU7XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlY3JlbWVudCgpIHtcbiAgICBicmVha1ZhbHVlID09PSA1ID8gJycgOiBicmVha1ZhbHVlIC09IDU7XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUgKCkge1xuICAgICByZXR1cm4gYnJlYWtWYWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgICBnZXRWYWx1ZSA6IGdldFZhbHVlXG4gIH07XG5cbn0pKCk7XG4iLCJ2YXIgc2V0U2Vzc2lvbiA9IChmdW5jdGlvbigpe1xuICB2YXIgc2Vzc2lvblZhbHVlID0gNTtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIHNlc3Npb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWlucHV0Jyk7XG4gIHZhciBpbmNUaW1lICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbmNyZWFzZScpO1xuICB2YXIgZGVjVGltZSAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc3Npb24tZGVjcmVhc2UnKTtcbi8vICBCaW5kIGNsaWNrIGV2ZW50c1xuICBpbmNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2luY3JlbWVudCk7XG4gIGRlY1RpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZGVjcmVtZW50KTtcbi8vIFJlbmRlciB0aGUgaW5pdGlhbCB2YWx1ZSBmcm9tIHNlc3Npb25WYWx1ZVxuICBfcmVuZGVyKCk7XG5cbiAgZnVuY3Rpb24gX3JlbmRlcigpIHtcbiAgICBzZXNzaW9uVmFsdWUgPT09IDUgPyBzZXNzaW9uSW5wdXQudGV4dENvbnRlbnQgPSAnMDUgbWluJyA6IHNlc3Npb25JbnB1dC50ZXh0Q29udGVudCA9IHNlc3Npb25WYWx1ZS50b1N0cmluZygpICsgJyBtaW4nO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luY3JlbWVudCgpIHtcbiAgICBzZXNzaW9uVmFsdWUgPT09IDM2MCA/ICcnIDogc2Vzc2lvblZhbHVlICs9IDU7XG4gICAgX3JlbmRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlY3JlbWVudCgpIHtcbiAgICBzZXNzaW9uVmFsdWUgPT09IDUgPyAnJyA6IHNlc3Npb25WYWx1ZSAtPSA1O1xuICAgIF9yZW5kZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZhbHVlICgpIHtcbiAgICAgcmV0dXJuIHNlc3Npb25WYWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgICBnZXRWYWx1ZSA6IGdldFZhbHVlXG4gIH07XG5cbn0pKCk7XG4iLCJ2YXIgdGltZU1hcmtlcnMgPSAoZnVuY3Rpb24oKXtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIG1hcmswICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTAnKTtcbiAgdmFyIG1hcmsxICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTEnKTtcbiAgdmFyIG1hcmsyICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTInKTtcbiAgdmFyIG1hcmszICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTMnKTtcbiAgdmFyIG1hcms0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1tYXJrLTQnKTtcbiAgdmFyIGluY1RpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbmNyZWFzZScpO1xuICB2YXIgZGVjVGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWRlY3JlYXNlJyk7XG5cbiAgaW5jVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9yZW5kZXIpO1xuICBkZWNUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3JlbmRlcik7XG5cbiAgZnVuY3Rpb24gX3JlbmRlcigpIHtcbiAgICBtYXJrMC50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogMSkpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gICAgbWFyazEudGV4dENvbnRlbnQgPSBhZGRaZXJvKE1hdGguZmxvb3Ioc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpIC8gNSAqIDIpKS50b1N0cmluZygpICsgJyBtaW4nO1xuICAgIG1hcmsyLnRleHRDb250ZW50ID0gYWRkWmVybyhNYXRoLmZsb29yKHNldFNlc3Npb24uZ2V0VmFsdWUoKSAvIDUgKiAzKSkudG9TdHJpbmcoKSArICcgbWluJztcbiAgICBtYXJrMy50ZXh0Q29udGVudCA9IGFkZFplcm8oTWF0aC5mbG9vcihzZXRTZXNzaW9uLmdldFZhbHVlKCkgLyA1ICogNCkpLnRvU3RyaW5nKCkgKyAnIG1pbic7XG4gICAgbWFyazQudGV4dENvbnRlbnQgPSBhZGRaZXJvKE1hdGguZmxvb3Ioc2V0U2Vzc2lvbi5nZXRWYWx1ZSgpIC8gNSAqIDUpKS50b1N0cmluZygpICsgJyBtaW4nO1xuICB9XG59KSgpO1xuIiwidmFyIHRpbWVyID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgTl9SRUNUICAgICAgICAgICAgICAgID0gMzY0O1xuICB2YXIgcGxheU9uICAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgdmFyIG15U2Vzc2lvbkNvdW50ZG93biAgICA9IG51bGw7XG4gIHZhciBteUJyZWFrQ291bnRkb3duICAgICAgPSBudWxsO1xuICB2YXIgbXlCcmVha0lubmVyQ291bnRkb3duID0gbnVsbDtcbiAgdmFyIGxvb3BUaW1lciAgICAgICAgICAgICA9IG51bGw7XG4gIHZhciBkaXNhYmxlICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgdmFyIHBsYXlCdG4gICAgICAgICAgICAgICA9IHRydWU7XG4gIHZhciBtaW51dGUgICAgICAgICAgICAgICAgPSA2MDAwMDtcbi8vIENhY2hlIHRoZSBET01cbiAgdmFyIHRpbWVyV3JhcHBlciAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXItd3JhcHBlcicpO1xuICB2YXIgc3RhcnQgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1idG4nKTtcbiAgdmFyIHNlc3Npb25JbmNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vzc2lvbi1pbmNyZWFzZScpO1xuICB2YXIgc2Vzc2lvbkRlY0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWRlY3JlYXNlJyk7XG4gIHZhciBicmVha0luY0J0biAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWluY3JlYXNlJyk7XG4gIHZhciBicmVha0RlY0J0biAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFrLWRlY3JlYXNlJyk7XG4vLyBCaW5kIGNsaWNrIGV2ZW50c1xuICBzdGFydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9jb3VudGRvd25Td2l0Y2gpO1xuLy8gUmVuZGVyIHRoZSB0aW1lciBkaXNwbGF5XG5cbl91cGRhdGVOdW1iZXJPZlJlY3RhbmdsZXMoKTtcblxuICBmdW5jdGlvbiBfdXBkYXRlTnVtYmVyT2ZSZWN0YW5nbGVzKCkge1xuICAgIHZhciBkICAgICAgID0gbmV3IERhdGUoKTtcbiAgICB2YXIgd2Vla0RheSA9IGQuZ2V0RGF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdlZWtEYXk7IGkrKykge1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBkaXYuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJyZWN0XCIgKyAoTl9SRUNUICsgMSArIGkpICk7XG4gICAgICBkaXYuY2xhc3NOYW1lICs9IFwiIHJlY3RcIjtcbiAgICAgIHRpbWVyV3JhcHBlci5hcHBlbmRDaGlsZChkaXYpO1xuICAgIH1cbiAgICBOX1JFQ1QgPSBOX1JFQ1QgKyB3ZWVrRGF5O1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlbmRlcihpZCwgdHlwZSkge1xuICAgIHZhciByZWN0YW5nbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjdCcgKyBpZCk7XG4gICAgdmFyIHJlZyAgICAgICA9IG5ldyBSZWdFeHAoJyhefCApJysgJ3JlY3QtYW5pbWF0ZS1jb2xvcicgKycoJHwgKScsJ2cnKTtcblxuICAgIHR5cGUgPT09ICdzZXNzaW9uJyA/IHJlY3RhbmdsZS5jbGFzc05hbWUgKz0gXCIgcmVjdC1hbmltYXRlLWNvbG9yXCIgOiByZWN0YW5nbGUuY2xhc3NOYW1lID0gcmVjdGFuZ2xlLmNsYXNzTmFtZS5yZXBsYWNlKHJlZywnICcpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NvdW50ZG93blN3aXRjaCgpIHtcbiAgICBpZihwbGF5QnRuKSB7XG4gICAgICBwbGF5QnRuID0gZmFsc2U7XG4gICAgICBzdGFydC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguLi9pbWcvcmVsb2FkLWljb24uc3ZnKVwiO1xuICAgICAgX3N0YXJ0Q291bnRkb3duKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXlCdG4gPSB0cnVlO1xuICAgICAgc3RhcnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi4vaW1nL3BsYXktaWNvbi5zdmcpXCI7XG4gICAgICBfcmVzZXRUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZXNldFRpbWVyKCkge1xuICAgIF9kaXNhYmxlQnRucyhmYWxzZSk7XG4gICAgZGlzYWJsZSA9IGZhbHNlO1xuICAgIHBsYXlPbiA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dChteVNlc3Npb25Db3VudGRvd24pO1xuICAgIGNsZWFyVGltZW91dChteUJyZWFrQ291bnRkb3duKTtcbiAgICBjbGVhclRpbWVvdXQobXlCcmVha0lubmVyQ291bnRkb3duKTtcbiAgICBjbGVhclRpbWVvdXQobG9vcFRpbWVyKTtcbiAgICBkaXNwbGF5VmFsdWUgPSBzZXRTZXNzaW9uLmdldFZhbHVlKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gTl9SRUNUOyBpKyspIHtcbiAgICAgIF9yZW5kZXIoaSwncmVzZXQnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRDb3VudGRvd24oKSB7XG4gICAgdmFyIHNlc3Npb25UaW1lICAgICA9IHNldFNlc3Npb24uZ2V0VmFsdWUoKTtcbiAgICB2YXIgYnJlYWtUaW1lICAgICAgID0gc2V0QnJlYWsuZ2V0VmFsdWUoKTtcbiAgICB2YXIgcmVjdFNlc3Npb25UaW1lID0gc2Vzc2lvblRpbWUgLyBOX1JFQ1Q7XG4gICAgdmFyIHJlY3RCcmVha1RpbWUgICA9IGJyZWFrVGltZSAvIE5fUkVDVDtcbiAgICB2YXIgcyAgICAgICAgICAgICAgID0gMDtcbiAgICB2YXIgYiAgICAgICAgICAgICAgID0gMDtcbiAgICBwbGF5T24gICAgICAgICAgICAgID0gdHJ1ZTtcblxuICAgIGlmKCFkaXNhYmxlKSB7XG4gICAgX2Rpc2FibGVCdG5zKHRydWUpO1xuICAgIH1cblxuICAgIG15U2Vzc2lvbkNvdW50ZG93biA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgaWYocyA8PSBOX1JFQ1QpIHtcbiAgICAgIF9yZW5kZXIocywnc2Vzc2lvbicpO1xuICAgICAgcysrO1xuICAgICAgfVxuICAgIH0sIHJlY3RTZXNzaW9uVGltZSAqIG1pbnV0ZSk7XG5cbiAgICBteUJyZWFrQ291bnRkb3duID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBteUJyZWFrSW5uZXJDb3VudGRvd24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoYiA8PSBOX1JFQ1QpIHtcbiAgICAgICAgICBfcmVuZGVyKGIsJ2JyZWFrJyk7XG4gICAgICAgICAgYisrO1xuICAgICAgICB9XG4gICAgICB9LCByZWN0QnJlYWtUaW1lICogbWludXRlKTtcbiAgICB9LCBzZXNzaW9uVGltZSAqIG1pbnV0ZSk7XG5cbiAgICBsb29wVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KG15U2Vzc2lvbkNvdW50ZG93bik7XG4gICAgICBjbGVhclRpbWVvdXQobXlCcmVha0NvdW50ZG93bik7XG4gICAgICBjbGVhclRpbWVvdXQobXlCcmVha0lubmVyQ291bnRkb3duKTtcbiAgICAgIGlmIChwbGF5T24pIHtcbiAgICAgICAgIF9zdGFydENvdW50ZG93bigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sKHNlc3Npb25UaW1lICsgYnJlYWtUaW1lKSAqIG1pbnV0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGlzYWJsZUJ0bnMoZGlzYWJsZSkge1xuICAgIGlmKGRpc2FibGUgPT09IGZhbHNlKSB7XG4gICAgICBzZXNzaW9uSW5jQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBzZXNzaW9uSW5jQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2Y3ZjlmYVwiO1xuICAgICAgc2Vzc2lvbkRlY0J0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgc2Vzc2lvbkRlY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmN2Y5ZmFcIjtcbiAgICAgIGJyZWFrSW5jQnRuLmRpc2FibGVkICAgPSBmYWxzZTtcbiAgICAgIGJyZWFrSW5jQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciAgID0gXCIjZjdmOWZhXCI7XG4gICAgICBicmVha0RlY0J0bi5kaXNhYmxlZCAgID0gZmFsc2U7XG4gICAgICBicmVha0RlY0J0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgICA9IFwiI2Y3ZjlmYVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXNzaW9uSW5jQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlc3Npb25JbmNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjQkNCQ0JDXCI7XG4gICAgICBzZXNzaW9uRGVjQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlc3Npb25EZWNCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjQkNCQ0JDXCI7XG4gICAgICBicmVha0luY0J0bi5kaXNhYmxlZCAgID0gdHJ1ZTtcbiAgICAgIGJyZWFrSW5jQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciAgID0gXCIjQkNCQ0JDXCI7XG4gICAgICBicmVha0RlY0J0bi5kaXNhYmxlZCAgID0gdHJ1ZTtcbiAgICAgIGJyZWFrRGVjQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciAgID0gXCIjQkNCQ0JDXCI7XG4gICAgfVxuICB9XG5cbn0pKCk7XG4iXX0=
